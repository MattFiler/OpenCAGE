<?xml version="1.0" encoding="utf-8"?>
<DIR>
<File name="AlienVersionPlayerIsHiding.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Comment Background="NoColor:0" Text="This is the hiding branch.  Still a bit of a work in progress.  We may need to add a simulated noise into the system" />
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="PLAYER_HIDING_BRANCH:48">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="10" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="5" TimerType="HEIGHTENED_SENSES_TIMER:15">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SUSPICIOUS:3">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionWithdrawState" WithdrawState="WITHDRAWING:2">
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ConditionTargetLogicCharacterFlags" FlagType="PLAYER_HIDING:8">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_50">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_89">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="8">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="116" RoleType="HIDING_PLAYER:11">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_24">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_28">
                                            <Comment Background="NoColor:0" Text="This is still used after all.  I thought it might be deprecated: it wasn't" />
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.ConditionTargetLogicCharacterFlags" FlagType="ATTACK_HIDING_PLAYER:9">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.ConditionTargetLogicCharacterFlags" FlagType="ATTACK_HIDING_PLAYER:9">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ActionMoveToNearestStandingPointToTarget" MovementSpeedType="Fastest:3" PlayStoppingAnim="True" RequestShutDownSpeed="SST_GRACEFULL:0" StoppingDistance="1" />
                                                </Connector>
                                                <Connector Identifier="ConditionFalse">
                                                  <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTarget" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="5" />
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_98">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="COULD_RESPOND_TO_HIDING_PLAYER:4" />
                                              <Node Class="LegendPlugin.Nodes.ActionFail" />
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_all_search_variants.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_52">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="PLAYER_HIDING_BRANCH:48">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_92">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_RESPOND_TO_HIDING_PLAYER:4">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_HIDING">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionEventAOccuredAfterB" EventA="TARGET_HIDEING:2" EventB="SENSED_SUSPICIOUS_ITEM:1">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_DO_SUSPICIOUS_ITEM_HIGH_PRIORITY:5">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionEventAOccuredAfterB" EventA="TARGET_HIDEING:2" EventB="SENSED_TARGET:0">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_SEARCH:3">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionEventAOccuredAfterB" EventA="TARGET_HIDEING:2" EventB="SUSPECT_TARGET_RESPONSE:3">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_DO_SUSPECT_TARGET_RESPONSE_MOVE_TO:6">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="10" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="5" TimerType="HEIGHTENED_SENSES_TIMER:15">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_80_HIDING">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ActionSetWithdrawState" WithdrawState="NOT_WITHDRAWING:0" />
                                  <Node Class="LegendPlugin.Nodes.ConditionTargetLogicCharacterFlags" FlagType="PLAYER_HIDING:8">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionPerformRole" QueryID="116" RequestShutDownSpeed="SST_GRACEFULL:0" RoleType="HIDING_PLAYER:11" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPICIOUS_ITEM_BRANCH_HIGH:40">
            <Comment Background="Red:2" Text="This one checks the could do sus item frame flag the other way around deliberately as the suspicious items manager needs to set the sus item high priority frame flag so the sus items manager can correctly assign group members the sus item!" />
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_9_CLONE">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionEventAOccuredAfterB" EventA="SENSED_SUSPICIOUS_ITEM:1" EventB="SENSED_TARGET:0">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_SEARCH:3">
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionEventAOccuredAfterB" EventA="SENSED_SUSPICIOUS_ITEM:1" EventB="SUSPECT_TARGET_RESPONSE:3">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_DO_SUSPECT_TARGET_RESPONSE_MOVE_TO:6">
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="SUSPICIOUS_ITEM_HIGH_PRIORITY:2" />
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_93_CLONE">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_DO_SUSPICIOUS_ITEM_HIGH_PRIORITY:5">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemBTPriority" Priority="HIGH:2">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_suspicious_item_common.xml" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SEARCH_BRANCH:7">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_94">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_SEARCH:3">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_9_CLONE_CLONE">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionEventAOccuredAfterB" EventA="SENSED_TARGET:0" EventB="SUSPECT_TARGET_RESPONSE:3">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_DO_SUSPECT_TARGET_RESPONSE_MOVE_TO:6">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_systematic_search.xml" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPECT_TARGET_RESPONSE_BRANCH:11">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="30" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_95">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_DO_SUSPECT_TARGET_RESPONSE_MOVE_TO:6">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ActionSetWithdrawState" WithdrawState="NOT_WITHDRAWING:0" />
                      <Node Class="LegendPlugin.Nodes.ActionPerformRole" QueryID="23" RequestShutDownSpeed="SST_GRACEFULL:0" RoleType="SUSPECT_RESPONSE_MOVE_TO:13" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_ambush.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="KILLTRAP_BRANCH:54">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_90">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionIsBackstage">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="False" Time="-1" TimerType="AMBUSH_TIMEOUT_TIMER:5" />
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.ActionBreakout" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="AMBUSH_TIMEOUT_TIMER:5">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="SHOULD_AMBUSH:16" />
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_43_CLONE">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionAlienIsAllowed" AlienAction="WILL_AMBUSH:6">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ConditionHasAmbushPoint">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="LOWER_THRESHOLD:1">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_93">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="SHOULD_AMBUSH:16" />
                                      <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="False" Time="-1" TimerType="FLANKED_VENT_ATTACK_TIMER:17">
                                        <Comment Background="NoColor:0" Text="dont allow flanked vent attack whilst attacking" />
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ConditionIsAnySenseActivationAbove" MustBeTriggered="False" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="SHOULD_AMBUSH:16" />
                                    </Connector>
                                    <Connector Identifier="ConditionFalse">
                                      <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="10" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="5" TimerType="HEIGHTENED_SENSES_TIMER:15">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.ActionPerformAmbush" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionAlienIsAllowed" AlienAction="WILL_KILLTRAP:3">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ConditionHasKilltrap">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="False" Time="10" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="False" Time="5" TimerType="HEIGHTENED_SENSES_TIMER:15">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ActionBackstageAreaSweep" BackstageBehaviour="ALLOW_KILLTRAP:1" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="SHOULD_AMBUSH:16" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_attack.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_58">
        <Connector Identifier="GenericChildren">
          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_attack_precondition.xml" />
          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_attack_core.xml" />
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_attack_core.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="ATTACK_BRANCH:2">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="30" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="25" TimerType="HEIGHTENED_SENSES_TIMER:15">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="ATTACK_MOTIVATION:1">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="ATTACK_BAN_TIMER:6">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ConditionHasValidRouteToTarget">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="TARGET:1">
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_41">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_attack_core_checks.xml" />
                                              <Node Class="LegendPlugin.Nodes.ActionTriggerSound" SoundType="ALIEN_CHARGE_TO_ATTACK:3" />
                                              <Node Class="LegendPlugin.Nodes.ActionSetWithdrawState" WithdrawState="NOT_WITHDRAWING:0" />
                                              <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="ATTACK_HAS_GOT_WITHIN_ROUTING_THRESHOLD:12" />
                                              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_45">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.ConditionAlienIsAllowed" AlienAction="WILL_FLANK:4">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="FLANKED_VENT_ATTACK_TIMER:17">
                                                        <Comment Background="Blue:1" Text="Best to decide this once at start of behaviour to prevent double backs for no other reason than a timer expired" />
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.SelectorPercentage">
                                                            <Connector Identifier="GenericChildren">
                                                              <Node Class="LegendPlugin.Nodes.DecoratorPercentage" PercentagePass="20">
                                                                <Connector Identifier="GenericChildren">
                                                                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="ALLOW_FLANKED_VENT_ATTACK:19" />
                                                                </Connector>
                                                              </Node>
                                                              <Node Class="LegendPlugin.Nodes.DecoratorPercentage" PercentagePass="80">
                                                                <Connector Identifier="GenericChildren">
                                                                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="ALLOW_FLANKED_VENT_ATTACK:19" />
                                                                </Connector>
                                                              </Node>
                                                            </Connector>
                                                          </Node>
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="ALLOW_FLANKED_VENT_ATTACK:19" />
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_2_CLONE">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="IGNORE_CHILD_FAIL:1" Name="SEQ_43_CLONE_CLONE_CLONE">
                                                    <Connector Identifier="GenericChildren">
                                                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_19_CLONE_CLONE_CLONE">
                                                        <Comment Background="Violet:4" Text="This area is ripe for a refactor if we don't use a different timer / core checks when chasing at larger distances (as is currently the case)" />
                                                        <Connector Identifier="GenericChildren">
                                                          <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="ATTACK_HAS_GOT_WITHIN_ROUTING_THRESHOLD:12">
                                                            <Connector Identifier="ConditionFalse">
                                                              <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="20">
                                                                <Connector Identifier="ConditionTrue">
                                                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_43_CLONE_CLONE_CLONE_CLONE">
                                                                    <Connector Identifier="GenericChildren">
                                                                      <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="ATTACK_HAS_GOT_WITHIN_ROUTING_THRESHOLD:12">
                                                                        <Comment Background="NoColor:0" Text="Alien cheats regards to senses until within 20 metres of target" />
                                                                      </Node>
                                                                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                                                                    </Connector>
                                                                  </Node>
                                                                </Connector>
                                                                <Connector Identifier="ConditionFalse">
                                                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_43_CLONE_CLONE_CLONE_CLONE_CLONE_CLONE_CLONE_CLONE">
                                                                    <Connector Identifier="GenericChildren">
                                                                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_attack_core_checks.xml" />
                                                                      <Node Class="LegendPlugin.Nodes.ConditionIsBackstage">
                                                                        <Connector Identifier="ConditionTrue">
                                                                          <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="False" Time="1.5" TimerType="ATTACK_KEEP_CHASING_TIMER:12" />
                                                                        </Connector>
                                                                        <Connector Identifier="ConditionFalse">
                                                                          <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="False" Time="0.2" TimerType="ATTACK_KEEP_CHASING_TIMER:12" />
                                                                        </Connector>
                                                                      </Node>
                                                                    </Connector>
                                                                  </Node>
                                                                </Connector>
                                                              </Node>
                                                            </Connector>
                                                          </Node>
                                                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_43_CLONE_CLONE_CLONE_CLONE_CLONE_CLONE_CLONE">
                                                            <Connector Identifier="GenericChildren">
                                                              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_attack_core_checks.xml" />
                                                              <Node Class="LegendPlugin.Nodes.ConditionIsBackstage">
                                                                <Connector Identifier="ConditionTrue">
                                                                  <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="False" Time="1.5" TimerType="ATTACK_KEEP_CHASING_TIMER:12" />
                                                                </Connector>
                                                                <Connector Identifier="ConditionFalse">
                                                                  <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="False" Time="0.2" TimerType="ATTACK_KEEP_CHASING_TIMER:12" />
                                                                </Connector>
                                                              </Node>
                                                            </Connector>
                                                          </Node>
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_17">
                                                    <Connector Identifier="GenericChildren">
                                                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="Alien_HitAndRun.xml" />
                                                      <Node Class="LegendPlugin.Nodes.ConditionHasMeleeAttackAvailable" AttackType="ANY:0">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_ATTACK:5" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.DecoratorLockBestVents" VentLockReason="FLANKED_VENT_ATTACK_FROM_ATTACK:0">
                                                        <Connector Identifier="GenericChildren">
                                                          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="False" Time="-1" TimerType="FLANKED_VENT_ATTACK_TIMER:17">
                                                            <Connector Identifier="GenericChildren">
                                                              <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="False" Time="-1" TimerType="ATTACK_KEEP_CHASING_TIMER:12">
                                                                <Connector Identifier="GenericChildren">
                                                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_43_CLONE_CLONE_CLONE_CLONE_CLONE_CLONE_CLONE_CLONE_CLONE_CLONE_CLONE">
                                                                    <Connector Identifier="GenericChildren">
                                                                      <Node Class="LegendPlugin.Nodes.ConditionAngleNPCToTargetsAimLessThan" AimMustBeHeld="False" AngleLessThan="45">
                                                                        <Connector Identifier="ConditionTrue">
                                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                        </Connector>
                                                                      </Node>
                                                                      <Node Class="LegendPlugin.Nodes.ConditionIsBackstage">
                                                                        <Connector Identifier="ConditionFalse">
                                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                        </Connector>
                                                                      </Node>
                                                                      <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="ALLOW_FLANKED_VENT_ATTACK:19">
                                                                        <Connector Identifier="ConditionTrue">
                                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                        </Connector>
                                                                      </Node>
                                                                      <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="FLANKED_VENT_ATTACK_TIMER:17">
                                                                        <Connector Identifier="ConditionTrue">
                                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                        </Connector>
                                                                      </Node>
                                                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="8">
                                                                        <Connector Identifier="ConditionFalse">
                                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                        </Connector>
                                                                      </Node>
                                                                      <Node Class="LegendPlugin.Nodes.ConditionHasVentCloseToAlien" VentLockReason="FLANKED_VENT_ATTACK_FROM_ATTACK:0">
                                                                        <Connector Identifier="ConditionTrue">
                                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                        </Connector>
                                                                      </Node>
                                                                      <Node Class="LegendPlugin.Nodes.ConditionHasFlankedVentCloseToPlayer" VentLockReason="FLANKED_VENT_ATTACK_FROM_ATTACK:0">
                                                                        <Connector Identifier="ConditionTrue">
                                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                        </Connector>
                                                                      </Node>
                                                                      <Node Class="LegendPlugin.Nodes.ActionMoveToBackstageViaVentClosestToAlien" RequestShutDownSpeed="SST_GRACEFULL:0" VentLockReason="FLANKED_VENT_ATTACK_FROM_ATTACK:0" />
                                                                      <Node Class="LegendPlugin.Nodes.ActionMoveToFrontStageViaFlankedVentClosestToPlayer" RequestShutDownSpeed="SST_GRACEFULL:0" VentLockReason="FLANKED_VENT_ATTACK_FROM_ATTACK:0" />
                                                                      <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="ALLOW_FLANKED_VENT_ATTACK:19" />
                                                                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                                                                    </Connector>
                                                                  </Node>
                                                                </Connector>
                                                              </Node>
                                                            </Connector>
                                                          </Node>
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="ATTACK_KEEP_CHASING_TIMER:12">
                                                        <Connector Identifier="ConditionFalse">
                                                          <Node Class="LegendPlugin.Nodes.ActionMoveToAttackTarget" MovementSpeedType="Fastest:3" PlayStoppingAnim="True" RequestShutDownSpeed="SST_GRACEFULL:0" StoppingDistance="1" />
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_attack_core_checks.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_43">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.ConditionHasValidRouteToTarget">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_19">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_1:1">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_7">
                <Comment Background="Red:2" Text="HACK FIX FOR PLAYER IN DEEP CROUCH" />
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionIsInCrawlSpace" CharacterType="TARGET:1">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="TARGET:1">
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_2">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="SEE_FLASH_LIGHT:7" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_2:2">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="HEARD_COMBAT:1" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_2:2">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="TOUCHED:5" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_1:1">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="COMBINED:8" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_2:2">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="COMBINED:8" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_1:1">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionIsBackstage">
                <Comment Background="NoColor:0" Text="If backstage don't stop attack behaviour until we come front stage again" />
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_attack_precondition.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="ATTACK_MOTIVATION:1">
        <Connector Identifier="ConditionTrue">
          <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="ATTACK_BAN_TIMER:6">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionHasValidRouteToTarget">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ConditionTargetLogicCharacterFlags" FlagType="PLAYER_HIDING:8">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="TARGET:1">
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="ATTACK_Preconds">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="TOUCHED:5" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionIsInCrawlSpace" CharacterType="TARGET:1">
                                        <Comment Background="Red:2" Text="HACK FIX FOR PLAYER IN DEEP CROUCH" />
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistanceThreshold" DistanceThreshold="DT_5:5">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="crawlspace_preconds">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="SEE_FLASH_LIGHT:7" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="HEARD_COMBAT:1" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="COMBINED:8" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="LOWER_THRESHOLD:1">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="TOUCHED:5" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_attack_precondition_visual.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="ATTACK_MOTIVATION:1">
        <Connector Identifier="ConditionTrue">
          <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="ATTACK_BAN_TIMER:6">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionHasValidRouteToTarget">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="TARGET:1">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_32">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="5">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="UPPER_THRESHOLD:3">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_backstage_ambush.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="BACKSTAGE_AMBUSH_BRANCH:13">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="False" Time="80" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="False" Time="-1" TimerType="HEIGHTENED_SENSES_TIMER:15">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_59">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionWithdrawState" WithdrawState="WITHDRAWING:2">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_5">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="AMBUSH_TIMEOUT_TIMER:5">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="156" RoleType="BACKSTAGE_AMBUSH:9">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_60">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ActionSetWithdrawState" WithdrawState="NEEDS_TO_WITHDRAW:1" />
                                  <Node Class="LegendPlugin.Nodes.ActionPerformRole" QueryID="156" RequestShutDownSpeed="SST_GRACEFULL:0" RoleType="BACKSTAGE_AMBUSH:9" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_backstage_stalk.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="BACKSTAGE_AREA_SWEEP_BRANCH:9">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_10">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_37">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionDebugMenuLinkTest" DefaultBehaviour="False" In_Game_Menu_Text="Force_Backstage_Stalk">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionWithdrawState" WithdrawState="NEEDS_TO_WITHDRAW:1">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionWithdrawState" WithdrawState="WITHDRAWING:2">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionCanBreakout">
                <Comment Background="NoColor:0" Text="Once levels are correctly marked up, remove CanBreakout" />
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_70">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="False" Time="-1" TimerType="BACKSTAGE_STALK_TIMEOUT_TIMER:4" />
                      <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="False" Time="-1" TimerType="BACKSTAGE_STALK_PICK_KILLTRAP_TIMER:16" />
                      <Node Class="LegendPlugin.Nodes.ActionExpireTimer" TimerType="AMBUSH_TIMEOUT_TIMER:5" />
                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_38">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="LOCK_BACKSTAGE_STALK:13">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="BACKSTAGE_STALK_TIMEOUT_TIMER:4">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ConditionHasKilltrap">
                                    <Connector Identifier="ConditionFalse">
                                      <Node Class="LegendPlugin.Nodes.ActionSetWithdrawState" WithdrawState="NOT_WITHDRAWING:0" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ConditionDebugMenuLinkTest" DefaultBehaviour="False" In_Game_Menu_Text="killtraps to end backstage">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="BACKSTAGE_STALK_PICK_KILLTRAP_TIMER:16">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ConditionAlienIsAllowed" AlienAction="WILL_KILLTRAP:3">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionBackstageAreaSweep" BackstageBehaviour="ALLOW_KILLTRAP:1" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ActionBackstageAreaSweep" BackstageBehaviour="BACKSTAGE_ONLY:0" RequestShutDownSpeed="SST_GRACEFULL:0" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_90">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionAssert" AssertInfo="Error - level has no backstage." />
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_behave.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_1">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="REPEATED_PATHFIND_FAILS_BRANCH:68">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_70_CLONE">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="HAS_REPEATED_PATHFIND_FAILURES:22">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="False" Time="15" TimerType="REPEATED_PATHFIND_FAILUREST_TIMER:24" />
                  <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="REPEATED_PATHFIND_FAILUREST_TIMER:24">
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ActionBackstageAreaSweep" BackstageBehaviour="BACKSTAGE_ONLY:0" RequestShutDownSpeed="SST_CRITICAL:2" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHaveNextTarget">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="SHOULD_ATTACK:5">
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_2_CLONE">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionSwitchToNextTarget" />
                      <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="IS_IN_EXPLOITABLE_AREA:21" />
                      <Node Class="LegendPlugin.Nodes.ActionExpireTimer" TimerType="ATTACK_BAN_TIMER:6" />
                      <Node Class="LegendPlugin.Nodes.ActionExpireTimer" TimerType="VENT_BAN_TIMER:8" />
                      <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ActionAssert" AssertInfo="Targeting non-enemy characters unsupported by alien_behave" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="PRIMARY_CONTROL_RESPONSE_BRANCH:29">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionRequiresPrimaryDamageControlResponse">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionApplyPrimaryDamageControlResponse" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPEND_BRANCH:46">
            <Comment Background="Green:3" Text="For Load/Save - and maybe one day for AI Lodding" />
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionShouldSuspend">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuspend" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="SHOULD_RESET:1">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_1">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="SHOULD_RESET:1" />
                  <Node Class="LegendPlugin.Nodes.ActionIdleTime" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="0.01" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="DEAD_BRANCH:30">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionIsDead">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionDead" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="DESPAWN_MOTIVATION:2">
            <Comment Background="Green:3" Text="Find a despawn job ASAP" />
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="DESPAWN_BRANCH:4">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_3_CLONE">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="SHOULD_DESPAWN:11">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="IGNORE_CHILD_FAIL:1" Name="SEQ_3_CLONE_CLONE">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ActionBreakout" RequestShutDownSpeed="SST_GRACEFULL:0" />
                          <Node Class="LegendPlugin.Nodes.ActionDespawn" RequestShutDownSpeed="SST_GRACEFULL:0" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionDebugMenuLinkTest" DefaultBehaviour="False" In_Game_Menu_Text="Disable All Aliens">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionDebugMenuLinkTest" DefaultBehaviour="False" In_Game_Menu_Text="Alien Gamepad control">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionCanBeControlledByGamepad">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionMoveWithGamepad" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="CINEMATIC_MOTIVATION:0">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="CINEMATIC_BRANCH:1">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionHasScript">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_3">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_3_SUB">
                            <Comment Background="Blue:1" Text="Important - if was breaking out, attacking, etc. and then start script - make sure we do not carry on afterwards." />
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionWithdrawState" WithdrawState="WITHDRAWING:2">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionSetWithdrawState" WithdrawState="NEEDS_TO_WITHDRAW:1" />
                                </Connector>
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="SHOULD_ATTACK:5" />
                              <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="SHOULD_HIT_AND_RUN:6" />
                              <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="SHOULD_BREAKOUT:4">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_3_CLONE">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="SHOULD_BREAKOUT:4" />
                                      <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="DONE_BREAKOUT:0" />
                                    </Connector>
                                  </Node>
                                </Connector>
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ActionScript" RequestShutDownSpeed="SST_GRACEFULL:0" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="SHOULD_ATTACK:5">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="ATTACK_CORE_BRANCH:49">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="30" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="25" TimerType="HEIGHTENED_SENSES_TIMER:15">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_71">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_48">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ConditionAnotherAlienIsAttackingThisTarget">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_71_CLONE">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ConditionHasMeleeAttackAvailableOrIsAttacking" AttackType="ANY:0">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_71_CLONE_CLONE_CLONE">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.ActionSetWithdrawState" WithdrawState="NOT_WITHDRAWING:0" />
                                              <Node Class="LegendPlugin.Nodes.ActionMeleeAttack" AttackType="ANY:0" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ActionIdleTime" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="0.5" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="SHOULD_ATTACK:5" />
                              <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="SHOULD_HIT_AND_RUN:6" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="SHOULD_HIT_AND_RUN:6">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="ATTACK_CORE_BRANCH:49">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="30" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="25" TimerType="HEIGHTENED_SENSES_TIMER:15">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_71_CLONE">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ConditionDebugMenuLinkTest" DefaultBehaviour="True" In_Game_Menu_Text="Allow Hit And Run">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_49">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.ConditionAnotherAlienIsAttackingThisTarget">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                            </Connector>
                                          </Node>
                                          <Node Class="LegendPlugin.Nodes.ConditionIsBackstage">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                            </Connector>
                                          </Node>
                                          <Node Class="LegendPlugin.Nodes.ConditionTargetLogicCharacterFlags" FlagType="PREVENT_GRAPPLES:17">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_ATTACK:5" />
                                            </Connector>
                                            <Connector Identifier="ConditionFalse">
                                              <Node Class="LegendPlugin.Nodes.ConditionIsInCrawlSpace" CharacterType="TARGET:1">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ConditionHasMeleeAttackAvailable" AttackType="ANY:0">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_ATTACK:5" />
                                                    </Connector>
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                                <Connector Identifier="ConditionFalse">
                                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_71_CLONE_CLONE">
                                                    <Connector Identifier="GenericChildren">
                                                      <Node Class="LegendPlugin.Nodes.ActionSetWithdrawState" WithdrawState="NOT_WITHDRAWING:0" />
                                                      <Node Class="LegendPlugin.Nodes.ActionHitTargetAndRun" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                    <Connector Identifier="ConditionFalse">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="SHOULD_HIT_AND_RUN:6" />
                                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="DONE_HIT_AND_RUN:7" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="STUN_DAMAGE_MOTIVATION:24">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="STUN_DAMAGE_BRANCH:44">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="30" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="25" TimerType="HEIGHTENED_SENSES_TIMER:15">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="Main stun sequence">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionIsGaugeAmountAbove" GaugeAmountType="GAUGE_ACTIVATED:3" GaugeType="STUN_DAMAGE_GAUGE:2" MustBeTriggered="False">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="keep checking gauge">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ActionSetGaugeAmount" GaugeAmountType="GAUGE_NONE:0" GaugeType="STUN_DAMAGE_GAUGE:2" SetAtleastTo="False" />
                                  <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="OWNER:0">
                                    <Connector Identifier="ConditionFalse">
                                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_8_CLONE_CLONE">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.ActionSetWithdrawState" WithdrawState="NOT_WITHDRAWING:0" />
                                          <Node Class="LegendPlugin.Nodes.ActionForceIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                          <Node Class="LegendPlugin.Nodes.ActionPlayTreeAndFaceTarget" AnimCallbackEnum="STUN_DAMAGE_CALLBACK:0" AnimTreeEnum="STUN_DAMAGE_TREE:0" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="BREAKOUT_MOTIVATION:25">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="BREAKOUT_BRANCH:45">
                <Connector Identifier="GenericChildren">
                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="Alien_Breakout.xml" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="SHOT_MOTIVATION:8">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SHOT_BRANCH:10">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="30" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="25" TimerType="HEIGHTENED_SENSES_TIMER:15">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_4">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="DONE_BREAKOUT:0">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                                    <Connector Identifier="ConditionFalse">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                </Connector>
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ConditionIsGaugeAmountAbove" GaugeAmountType="GAUGE_ACTIVATED:3" GaugeType="RETREAT_GAUGE:0" MustBeTriggered="False">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistance" Distance="2">
                                    <Connector Identifier="ConditionFalse">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ActionSetWithdrawState" WithdrawState="NOT_WITHDRAWING:0" />
                              <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_BREAKOUT:4" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="BACKSTAGE_STALK_MOTIVATION:7">
            <Connector Identifier="ConditionTrue">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_scripted_withdrawl.xml" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="TARGET_IS_NPC_BRANCH:47">
            <Connector Identifier="GenericChildren">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_target_is_npc.xml" />
            </Connector>
          </Node>
          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_in_vent.xml">
            <Comment Background="Violet:4" Text="NOTE - there is no motivation here - as it is handled from within the sub tree." />
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="AMBUSH_MOTIVATION:29">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="SHOULD_AMBUSH:16">
                <Connector Identifier="ConditionTrue">
                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_ambush.xml" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="THREAT_AWARE_MOTIVATION:10">
            <Connector Identifier="ConditionTrue">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_threat_aware.xml" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="ATTACK_MOTIVATION:1">
            <Connector Identifier="ConditionTrue">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_attack.xml" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="BREAKOUT_MOTIVATION:25">
            <Comment Background="Red:2" Text="If taken unawares by flamethrower - immediately run away by entering asssault mode" />
            <Connector Identifier="ConditionTrue">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_flamed_unaware.xml" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="BACKSTAGE_STALK_MOTIVATION:7">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="KILLTRAP_BRANCH:54">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_47">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionAlienIsAllowed" AlienAction="WILL_KILLTRAP:3">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ConditionHasKilltrap">
                            <Comment Background="NoColor:0" Text="Once we have a killtrap - move up the tree, so that we will not get distracted!" />
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="BACKSTAGE_AREA_SWEEP_BRANCH:9">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ActionBackstageAreaSweep" BackstageBehaviour="ALLOW_KILLTRAP:1" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="SHOULD_AMBUSH:16">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_97">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="SHOULD_AMBUSH:16" />
                              <Node Class="LegendPlugin.Nodes.ActionFail" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="SUSPECT_TARGET_RESPONSE_MOTIVATION:9">
            <Connector Identifier="ConditionTrue">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_suspect_target_response.xml" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_93">
            <Comment Background="Red:2" Text="disabled supect target response move to" />
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ActionFail" />
              <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="SUSPECT_TARGET_RESPONSE_MOTIVATION:9">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPECT_TARGET_RESPONSE_BRANCH:11">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionHasDoneSuspectResponseMoveTo">
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ConditionHasDoneSuspectResponseWithinTime" TimeConstraint="10">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="23" RoleType="SUSPECT_RESPONSE_MOVE_TO:13">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_89_CLONE_CLONE_CLONE">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ConditionWasSenseThresholdLastIncreaseActivationAbove" MustBeTriggered="False" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionWasSenseThresholdLastIncreaseActivationAbove" MustBeTriggered="False" SenseType="HEARD_COMBAT:1" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionWasSenseThresholdLastIncreaseActivationAbove" MustBeTriggered="False" SenseType="HEARD_MOVEMENT:3" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionWasSenseThresholdLastIncreaseActivationAbove" MustBeTriggered="False" SenseType="DAMAGED:4" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionWasSenseThresholdLastIncreaseActivationAbove" MustBeTriggered="False" SenseType="TOUCHED:5" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionWasSenseThresholdLastIncreaseActivationAbove" MustBeTriggered="False" SenseType="SEE_FLASH_LIGHT:7" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionWasSenseThresholdLastIncreaseActivationAbove" MustBeTriggered="False" SenseType="COMBINED:8" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="COULD_DO_SUSPECT_TARGET_RESPONSE_MOVE_TO:6" />
                                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="PLAYER_HIDE_MOTIVATION:26">
            <Connector Identifier="ConditionTrue">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="AlienVersionPlayerIsHiding.xml" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="SUSPICIOUS_ITEM_MOTIVATION:22">
            <Connector Identifier="ConditionTrue">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_suspicious_item_high.xml" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="SEARCH_SYSTEMATIC_MOTIVATION:5">
            <Connector Identifier="ConditionTrue">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_systematic_search_precondition.xml" />
            </Connector>
          </Node>
          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_all_search_variants.xml" />
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="SUSPICIOUS_ITEM_MOTIVATION:22">
            <Connector Identifier="ConditionTrue">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_suspicious_item_medium.xml" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SCRIPT_BRANCH:31">
            <Comment Background="NoColor:0" Text="This is ABOVE stalk and suspicious item low, as this allows scripters to supply default behaviour to replace stalk." />
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHasScript">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionScript" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="SUSPICIOUS_ITEM_MOTIVATION:22">
            <Connector Identifier="ConditionTrue">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_suspicious_item_low.xml" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="BACKSTAGE_STALK_MOTIVATION:7">
            <Connector Identifier="ConditionTrue">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_backstage_stalk.xml" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="STALK_MOTIVATION:6">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="AREA_SWEEP_BRANCH:8">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="5" RoleType="STALK:4">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionPerformRole" QueryID="5" RequestShutDownSpeed="SST_GRACEFULL:0" RoleType="STALK:4" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="BACKSTAGE_STALK_MOTIVATION:7">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="BACKSTAGE_AREA_SWEEP_BRANCH:9">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionCanBreakout">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionBackstageAreaSweep" BackstageBehaviour="BACKSTAGE_ONLY:0" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="IDLE_BRANCH:32">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="Alien_Breakout.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_46">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.ConditionDebugMenuLinkTest" DefaultBehaviour="False" In_Game_Menu_Text="Force_Breakout">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionCanBreakout">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_92">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionBreakout" RequestShutDownSpeed="SST_GRACEFULL:0" />
                      <Node Class="LegendPlugin.Nodes.ActionDebugMenuLinkItem" DefaultBehaviour="False" In_Game_Menu_Text="Force_Breakout" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="SHOULD_BREAKOUT:4">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_12">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_22">
                    <Connector Identifier="GenericChildren">
                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_attack_core_checks.xml" />
                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="2">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionHasMeleeAttackAvailable" AttackType="ANY:0">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_ATTACK:5" />
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_5">
                    <Comment Background="NoColor:0" Text="NOTE - this SHOULD be the only branch of breakout." />
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionBreakout" RequestShutDownSpeed="SST_GRACEFULL:0" />
                      <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="DONE_BREAKOUT:0" />
                      <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="SHOULD_BREAKOUT:4" />
                      <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="TARGET:1">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionStartTimerRandom" MaxTime="-1" MinTime="-1" TimerType="VENT_ATTRACT_TIMER:20" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_flamed_unaware.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_9">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_2">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionIsGaugeAmountAbove" GaugeAmountType="GAUGE_LOWER:2" GaugeType="RETREAT_GAUGE:0" MustBeTriggered="False">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionDebugMenuLinkTest" DefaultBehaviour="False" In_Game_Menu_Text="FAKE_FLAMETHROWER">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ActionForceIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
          <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="True" Time="30" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0" />
          <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="True" Time="25" TimerType="HEIGHTENED_SENSES_TIMER:15" />
          <Node Class="LegendPlugin.Nodes.ActionSetWithdrawState" WithdrawState="NOT_WITHDRAWING:0" />
          <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_BREAKOUT:4" />
          <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_AMBUSH:16" />
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="Alien_HitAndRun.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_44">
        <Comment Background="Blue:1" Text="Sub tree for switching to a hit and run after being attacked" />
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_21">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionIsGaugeAmountAbove" GaugeAmountType="GAUGE_ACTIVATED:3" GaugeType="RETREAT_GAUGE:0" MustBeTriggered="False">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionDebugMenuLinkTest" DefaultBehaviour="False" In_Game_Menu_Text="FAKE_FLAMETHROWER">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistance" Distance="1">
            <Comment Background="NoColor:0" Text="We want to make sure the alien is not TOO close....." />
            <Connector Identifier="ConditionFalse">
              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_22">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_45">
                <Comment Background="Red:2" Text="Hit and Run" />
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="12">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistanceUnobscured" Distance="12">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionAngleToTargetLessThan" Angle="90">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_HIT_AND_RUN:6" />
                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_BREAKOUT:4" />
                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_AMBUSH:16" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_47">
                <Comment Background="Green:3" Text="Just run away" />
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ActionForceIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_BREAKOUT:4" />
                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_AMBUSH:16" />
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_in_vent.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="IN_VENT_BRANCH:23">
        <Comment Background="Blue:1" Text="VENT_BAN_TIMER &amp; VENT_ATTRACT_TIMER are partly managed in code" />
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="TARGET:1">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_8">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="VENT_BAN_TIMER:8">
                            <Comment Background="Red:2" Text="Banned from vent - we will get the hell out!" />
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_22_CLONE_CLONE">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_ALIEN_FLAMED_P_INVENT_CLONE">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ConditionIsGaugeAmountAbove" GaugeAmountType="GAUGE_ACTIVATED:3" GaugeType="RETREAT_GAUGE:0" MustBeTriggered="False">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistance" Distance="1.5">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="OWNER:0">
                                                <Connector Identifier="ConditionFalse">
                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                </Connector>
                                              </Node>
                                            </Connector>
                                            <Connector Identifier="ConditionFalse">
                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionDebugMenuLinkTest" DefaultBehaviour="False" In_Game_Menu_Text="FAKE_FLAMETHROWER">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistance" Distance="4">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistance" Distance="2">
                                                <Connector Identifier="ConditionFalse">
                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="False" Time="30" TimerType="VENT_BAN_TIMER:8" />
                                </Connector>
                              </Node>
                            </Connector>
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_9">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_19">
                                    <Comment Background="Green:3" Text="This is a back up case: if we end up running at the player anyways, then we will attack attack attack.  Should only happen if affected by flamethrower (the thing that gets us out of a vent) has let us down!" />
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="OWNER:0">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistance" Distance="1.5">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionAngleToTargetLessThan" Angle="60">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionHasMeleeAttackAvailableOrIsAttacking" AttackType="VENT:3">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionMeleeAttack" AttackType="ANY:0" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_20">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="OWNER:0">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ActionSetWithdrawState" WithdrawState="NOT_WITHDRAWING:0" />
                                      <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="True" Time="30" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0" />
                                      <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="True" Time="25" TimerType="HEIGHTENED_SENSES_TIMER:15" />
                                      <Node Class="LegendPlugin.Nodes.ActionStartTimerRandom" MaxTime="-1" MinTime="-1" TimerType="VENT_ATTRACT_TIMER:20" />
                                      <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_BREAKOUT:4" />
                                      <Node Class="LegendPlugin.Nodes.ActionExpireTimer" TimerType="THREAT_AWARE_TIMEOUT_TIMER:1" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="OWNER_AND_TARGET:2">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="10" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="5" TimerType="HEIGHTENED_SENSES_TIMER:15">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_8_CLONE">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="THREAT_AWARE_MOTIVATION:10">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_in_vent_threat_aware.xml" />
                                            </Connector>
                                          </Node>
                                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_23">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.ConditionHasMeleeAttackAvailableOrIsAttacking" AttackType="VENT:3">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ActionMeleeAttack" AttackType="ANY:0" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="False" Time="20" TimerType="VENT_BAN_TIMER:8" />
                                            </Connector>
                                          </Node>
                                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_23_CLONE">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.ActionSetWithdrawState" WithdrawState="NOT_WITHDRAWING:0" />
                                              <Node Class="LegendPlugin.Nodes.ActionMoveThroughTarget" MovementSpeedType="Fastest:3" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_24_CLONE">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="NPC_JUST_LEFT_COMBAT_TIMER:9">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_8_CLONE_CLONE">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="HEARD_MOVEMENT:3" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="SEE_FLASH_LIGHT:7" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="AFFECTED_BY_FLAME_THROWER:6" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="ALIEN_ALWAYS_KNOWS_WHEN_IN_VENT:10">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="VENT_ATTRACT_TIMER:20">
                                        <Comment Background="NoColor:0" Text="This timer gtets started IN CODE when the player enters a vent" />
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ConditionWithdrawState" WithdrawState="WITHDRAWING:2">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_29">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.ActionStartTimerRandom" MaxTime="-1" MinTime="-1" TimerType="VENT_ATTRACT_TIMER:20" />
                                                  <Node Class="LegendPlugin.Nodes.ActionFail" />
                                                </Connector>
                                              </Node>
                                            </Connector>
                                            <Connector Identifier="ConditionFalse">
                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ActionSetWithdrawState" WithdrawState="NOT_WITHDRAWING:0" />
                              <Node Class="LegendPlugin.Nodes.ActionMoveThroughTarget" MovementSpeedType="Fastest:3" RequestShutDownSpeed="SST_GRACEFULL:0" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_in_vent_threat_aware.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="THREAT_AWARE_BRANCH:12">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="30" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="25" TimerType="HEIGHTENED_SENSES_TIMER:15">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="ATTACK_BAN_TIMER:6">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ConditionTargetsWeaponHasProperty" WeaponProperty="ALIEN_THREAT_AWARE_OF:0">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="12">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistance" Distance="1.5">
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="LegendPlugin.Nodes.ConditionTargetsWeaponHasAmmo">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.ConditionAngleToTargetLessThan" Angle="20">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ConditionAngleNPCToTargetsAimLessThan" AimMustBeHeld="True" AngleLessThan="30">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_26">
                                                        <Connector Identifier="GenericChildren">
                                                          <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                            <Connector Identifier="ConditionTrue">
                                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                            </Connector>
                                                          </Node>
                                                          <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="THREAT_AWARE_TIMEOUT_TIMER:1">
                                                            <Connector Identifier="ConditionTrue">
                                                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_88">
                                                                <Connector Identifier="GenericChildren">
                                                                  <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="False" Time="120" TimerType="THREAT_AWARE_TIMEOUT_TIMER:1" />
                                                                  <Node Class="LegendPlugin.Nodes.ActionThreatAware" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                                                </Connector>
                                                              </Node>
                                                            </Connector>
                                                            <Connector Identifier="ConditionFalse">
                                                              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_50">
                                                                <Comment Background="NoColor:0" Text="When We start up - check that, if the alien is really close, we stop for a secopnd anyway" />
                                                                <Connector Identifier="GenericChildren">
                                                                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="5">
                                                                    <Connector Identifier="ConditionTrue">
                                                                      <Node Class="LegendPlugin.Nodes.ActionThreatAware" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                                                    </Connector>
                                                                    <Connector Identifier="ConditionFalse">
                                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                    </Connector>
                                                                  </Node>
                                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                </Connector>
                                                              </Node>
                                                            </Connector>
                                                          </Node>
                                                          <Node Class="LegendPlugin.Nodes.ActionSetWithdrawState" WithdrawState="NOT_WITHDRAWING:0" />
                                                          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_49">
                                                            <Connector Identifier="GenericChildren">
                                                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_87">
                                                                <Connector Identifier="GenericChildren">
                                                                  <Node Class="LegendPlugin.Nodes.ConditionIsGaugeAmountAbove" GaugeAmountType="GAUGE_TRACE:1" GaugeType="RETREAT_GAUGE:0" MustBeTriggered="True">
                                                                    <Connector Identifier="ConditionTrue">
                                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                    </Connector>
                                                                  </Node>
                                                                  <Node Class="LegendPlugin.Nodes.ActionAffectedByFlameThrowerInVent" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                                                </Connector>
                                                              </Node>
                                                              <Node Class="LegendPlugin.Nodes.ActionMoveThroughTarget" MovementSpeedType="Slowest:0" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                                            </Connector>
                                                          </Node>
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_scripted_withdrawl.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.ConditionScriptedWithdrawRequested">
        <Connector Identifier="ConditionTrue">
          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_8">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_12">
                <Comment Background="Red:2" Text="If we want to withdraw - and the alien is close by and could attack - then do!" />
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionIsBackstage">
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistanceUnobscured" Distance="5">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_attack_core.xml" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_87">
                <Comment Background="NoColor:0" Text="Wait until the alien is far enough out, then go backstage" />
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_65">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionRangeTestForScriptedWithdrawal">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionIsBackstage">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="False" Time="-1" TimerType="BACKSTAGE_STALK_TIMEOUT_TIMER:4" />
                  <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="BACKSTAGE_AREA_SWEEP_BRANCH:9">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionBackstageAreaSweep" BackstageBehaviour="BACKSTAGE_ONLY:0" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_suspect_target_response.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPECT_TARGET_RESPONSE_BRANCH:11">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="30" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_61">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_33">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="LOWER_THRESHOLD:1">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="HEARD_COMBAT:1" ThresholdQualifier="LOWER_THRESHOLD:1">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="HEARD_MOVEMENT:3" ThresholdQualifier="LOWER_THRESHOLD:1">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="DAMAGED:4" ThresholdQualifier="LOWER_THRESHOLD:1">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="TOUCHED:5" ThresholdQualifier="LOWER_THRESHOLD:1">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="SEE_FLASH_LIGHT:7" ThresholdQualifier="LOWER_THRESHOLD:1">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="COMBINED:8" ThresholdQualifier="LOWER_THRESHOLD:1">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="OWNER:0">
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="ATTACK_BAN_TIMER:6">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ActionSuspectTargetResponse" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_suspicious_item_common.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="10" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="5" TimerType="HEIGHTENED_SENSES_TIMER:15">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorSuspiciousItemInProgress">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_8">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionSetWithdrawState" WithdrawState="NOT_WITHDRAWING:0" />
                      <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="IGNORE_CHILD_FAIL:1" Name="STATELESS_7_CLONE">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_124_CLONE">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemShouldDoStage" Stage="INITIAL_REACTION:0">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemReaction" RequestShutDownSpeed="SST_GRACEFULL:0" SuspiciousItemReaction="INITIAL_REACTION:0" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="MB_SUSPICIOUS_ITEM_ATLEAST_MOVE_CLOSE_TO:55">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="IGNORE_CHILD_FAIL:1" Name="STATELESS_7">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemShouldDoStage" Stage="MOVE_CLOSE_TO:2">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemIsWithinDistance" Distance="15">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemIsWithinDistance" Distance="8">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemMoveTo" MovementSpeedType="Slow:1" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldAim="False" />
                                            </Connector>
                                            <Connector Identifier="ConditionFalse">
                                              <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemMoveTo" MovementSpeedType="Fast:2" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldAim="False" />
                                            </Connector>
                                          </Node>
                                        </Connector>
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemMoveTo" MovementSpeedType="Fastest:3" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldAim="False" />
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemShouldDoStage" Stage="CLOSE_TO_REACTION:3">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemFirstGroupMember">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemReaction" RequestShutDownSpeed="SST_GRACEFULL:0" SuspiciousItemReaction="CLOSE_TO_FIRST_GROUP_MEMBER_REACTION:1" />
                                        </Connector>
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemReaction" RequestShutDownSpeed="SST_GRACEFULL:0" SuspiciousItemReaction="CLOSE_TO_SUBSEQUENT_GROUP_MEMBER_REACTION:2" />
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemShouldDoStage" Stage="CLOSE_TO_WAIT_FOR_GROUP_MEMBERS:4">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ConditionIsPartOfNPCGroup">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_34">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_63">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemGroupMembersRoutingTo">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemGroupMembersRoutingTo">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingSuspiciousItem" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="-1" WaitForTeamMembersRouting="False" />
                                                    </Connector>
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="CLOSE_TO_WAIT_FOR_GROUP_MEMBERS:4" />
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_64">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingSuspiciousItem" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="2" WaitForTeamMembersRouting="False" />
                                                  <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="CLOSE_TO_WAIT_FOR_GROUP_MEMBERS:4" />
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                        </Connector>
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="CLOSE_TO_WAIT_FOR_GROUP_MEMBERS:4" />
                                        </Connector>
                                      </Node>
                                    </Connector>
                                    <Connector Identifier="ConditionFalse">
                                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="CLOSE_TO_WAIT_FOR_GROUP_MEMBERS:4" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemShouldDoStage" Stage="SEARCH_AREA:5">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="76" RoleType="SYSTEMATIC_SEARCH_SUSPICIOUS_ITEM:3">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_64_CLONE">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.ActionPerformRole" QueryID="76" RequestShutDownSpeed="SST_GRACEFULL:0" RoleType="SYSTEMATIC_SEARCH_SUSPICIOUS_ITEM:3" />
                                              <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="SEARCH_AREA:5" />
                                            </Connector>
                                          </Node>
                                        </Connector>
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="SEARCH_AREA:5" />
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_suspicious_item_high.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPICIOUS_ITEM_BRANCH_HIGH:40">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_99_CLONE">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemBTPriority" Priority="HIGH:2">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionShouldProcessSuspiciousItem">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_99">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="COULD_DO_SUSPICIOUS_ITEM_HIGH_PRIORITY:5" />
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                  </Node>
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_88">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="SEARCH_AREA:5" />
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_suspicious_item_low.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPICIOUS_ITEM_BRANCH_HIGH:40">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_17_CLONE">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="SUSPICIOUS_ITEM_LOW_PRIORITY:0" />
              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemBTPriority" Priority="LOW:0">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionShouldProcessSuspiciousItem">
                <Connector Identifier="ConditionTrue">
                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_suspicious_item_common.xml" />
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_88">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="SEARCH_AREA:5" />
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_suspicious_item_medium.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPICIOUS_ITEM_BRANCH_HIGH:40">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_17_CLONE">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="SUSPICIOUS_ITEM_MEDIUM_PRIORITY:1" />
              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemBTPriority" Priority="MEDIUM:1">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionShouldProcessSuspiciousItem">
                <Connector Identifier="ConditionTrue">
                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_suspicious_item_common.xml" />
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_88">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="SEARCH_AREA:5" />
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_systematic_search.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="10" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="5" TimerType="HEIGHTENED_SENSES_TIMER:15">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_66">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ActionSetWithdrawState" WithdrawState="NOT_WITHDRAWING:0" />
                  <Node Class="LegendPlugin.Nodes.ActionTriggerSound" SoundType="ALIEN_STARTS_SEARCHING:9" />
                  <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionPerformRole" QueryID="3" RequestShutDownSpeed="SST_GRACEFULL:0" RoleType="SYSTEMATIC_SEARCH:2" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_systematic_search_precondition.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_48">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_65_CLONE">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionHasSearchedMostRecentSensedPosition">
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_44_CLONE">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionHasAnySenseBeenAboveWithinTime" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeConstraint="20">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionLastTimeSearchedWithinTime" TimeConstraint="20">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="3" RoleType="SYSTEMATIC_SEARCH:2">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="COULD_SEARCH:3" />
              <Node Class="LegendPlugin.Nodes.ActionFail" />
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_target_is_npc.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="5" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_80">
            <Comment Background="Blue:1" Text="Special branch when the target is an NPC so that it does no extra behaviours except attack" />
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ActionSetWithdrawState" WithdrawState="NOT_WITHDRAWING:0" />
              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="NPCAttackSelector">
                <Connector Identifier="GenericChildren">
                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_flamed_unaware.xml" />
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="AttackAvailable">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionHasMeleeAttackAvailable" AttackType="ANY:0">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_ATTACK:5" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionHasValidRouteToTarget">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_49">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_83">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="15">
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ActionMoveToAttackTarget" MovementSpeedType="Fastest:3" PlayStoppingAnim="True" RequestShutDownSpeed="SST_GRACEFULL:0" StoppingDistance="1" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_83_CLONE">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="8">
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="15">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionMoveThroughTarget" MovementSpeedType="Fast:2" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_83_CLONE_CLONE">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="5">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionMoveThroughTarget" MovementSpeedType="Fast:2" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                </Connector>
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="8">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionMoveThroughTarget" MovementSpeedType="Slow:1" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="5">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionMoveThroughTarget" MovementSpeedType="Fast:2" RequestShutDownSpeed="SST_GRACEFULL:0" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="NPCPathFailedToNPC">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionAssert" AssertInfo="Error - Alien failed to pathfind to non player enemy " />
                      <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="alien_threat_aware.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="THREAT_AWARE_BRANCH:12">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="30" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="25" TimerType="HEIGHTENED_SENSES_TIMER:15">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="ATTACK_BAN_TIMER:6">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ConditionTargetLogicCharacterFlags" FlagType="PLAYER_HIDING:8">
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ConditionAlienIsAllowed" AlienAction="THREAT_AWARE:1">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_49">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_25">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="AFFECTED_BY_FLAME_THROWER:6" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                          <Node Class="LegendPlugin.Nodes.ConditionTargetsWeaponHasProperty" WeaponProperty="ALIEN_THREAT_AWARE_OF:0">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                            </Connector>
                                          </Node>
                                          <Node Class="LegendPlugin.Nodes.ConditionTargetsWeaponHasAmmo">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                            </Connector>
                                          </Node>
                                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="20">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                            </Connector>
                                          </Node>
                                          <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="False" Time="120" TimerType="THREAT_AWARE_TIMEOUT_TIMER:1" />
                                          <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="DONE_THREAT_AWARE:15" />
                                          <Node Class="LegendPlugin.Nodes.ActionSetWithdrawState" WithdrawState="NOT_WITHDRAWING:0" />
                                          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_18">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.ConditionAlienIsAllowed" AlienAction="WILL_FLANK_FROM_THREAT_AWARE:5">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="FLANKED_VENT_ATTACK_TIMER:17">
                                                    <Comment Background="Blue:1" Text="Best to decide this once at start of behaviour to prevent double backs for no other reason than a timer expired" />
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.SelectorPercentage">
                                                        <Connector Identifier="GenericChildren">
                                                          <Node Class="LegendPlugin.Nodes.DecoratorPercentage" PercentagePass="20">
                                                            <Connector Identifier="GenericChildren">
                                                              <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="ALLOW_FLANKED_VENT_ATTACK:19" />
                                                            </Connector>
                                                          </Node>
                                                          <Node Class="LegendPlugin.Nodes.DecoratorPercentage" PercentagePass="80">
                                                            <Connector Identifier="GenericChildren">
                                                              <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="ALLOW_FLANKED_VENT_ATTACK:19" />
                                                            </Connector>
                                                          </Node>
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="ALLOW_FLANKED_VENT_ATTACK:19" />
                                            </Connector>
                                          </Node>
                                          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_26">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="MB_THREAT_AWARE_ATTACK_TARGET_FLAMED_ME:58">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_51_CLONE">
                                                    <Connector Identifier="GenericChildren">
                                                      <Node Class="LegendPlugin.Nodes.ConditionIsGaugeAmountAbove" GaugeAmountType="GAUGE_UPPER:4" GaugeType="RETREAT_GAUGE:0" MustBeTriggered="False">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="TARGET:1">
                                                        <Connector Identifier="ConditionFalse">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_attack_core_checks.xml" />
                                                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_28_CLONE_CLONE">
                                                        <Connector Identifier="GenericChildren">
                                                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_attack_core.xml" />
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="MB_THREAT_AWARE_ATTACK_TARGET_WITHIN_CLOSE_RANGE:56">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_51_CLONE">
                                                    <Connector Identifier="GenericChildren">
                                                      <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="DONE_THREAT_AWARE:15">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistanceThreshold" DistanceThreshold="DT_4:4">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="8">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="TARGET:1">
                                                        <Connector Identifier="ConditionFalse">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.ConditionIsBackstage">
                                                        <Connector Identifier="ConditionFalse">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_attack_core_checks.xml" />
                                                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_28_CLONE_CLONE_CLONE_CLONE">
                                                        <Connector Identifier="GenericChildren">
                                                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_attack_core.xml" />
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="MB_THREAT_AWARE_ATTACK_TARGET_WITHIN_VERY_CLOSE_RANGE:57">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_51_CLONE_CLONE">
                                                    <Connector Identifier="GenericChildren">
                                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistanceThreshold" DistanceThreshold="DT_2:2">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="5">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="TARGET:1">
                                                        <Connector Identifier="ConditionFalse">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.ConditionIsBackstage">
                                                        <Connector Identifier="ConditionFalse">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_attack_core_checks.xml" />
                                                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_28_CLONE_CLONE_CLONE_CLONE_CLONE">
                                                        <Connector Identifier="GenericChildren">
                                                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_attack_core.xml" />
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_54_CLONE">
                                                <Comment Background="Blue:1" Text="Affected by flame thrower - needs to be above attack when not aimed case so we can push back when out of weapon range and escape when affected by flame thrower" />
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.ConditionIsGaugeAmountAbove" GaugeAmountType="GAUGE_TRACE:1" GaugeType="RETREAT_GAUGE:0" MustBeTriggered="True">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ActionAffectedByFlameThrower" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                                  <Node Class="LegendPlugin.Nodes.ActionFail" />
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="MB_THREAT_AWARE_ATTACK_WEAPON_NOT_AIMED:59">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_53">
                                                    <Comment Background="Orange:5" Text="Attack when flame thrower not aimed or no no flame thrower equipped" />
                                                    <Connector Identifier="GenericChildren">
                                                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="TARGET:1">
                                                        <Connector Identifier="ConditionFalse">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.ConditionIsBackstage">
                                                        <Connector Identifier="ConditionFalse">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_attack_core_checks.xml" />
                                                      <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_4">
                                                        <Connector Identifier="GenericChildren">
                                                          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_29_CLONE">
                                                            <Connector Identifier="GenericChildren">
                                                              <Node Class="LegendPlugin.Nodes.ConditionTargetsWeaponHasProperty" WeaponProperty="ALIEN_THREAT_AWARE_OF:0">
                                                                <Connector Identifier="ConditionFalse">
                                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                </Connector>
                                                              </Node>
                                                              <Node Class="LegendPlugin.Nodes.ConditionTargetsWeaponHasAmmo">
                                                                <Connector Identifier="ConditionFalse">
                                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                </Connector>
                                                              </Node>
                                                              <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                                <Connector Identifier="ConditionTrue">
                                                                  <Node Class="LegendPlugin.Nodes.ConditionAngleNPCToTargetsAimLessThan" AimMustBeHeld="True" AngleLessThan="45">
                                                                    <Connector Identifier="ConditionFalse">
                                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                    </Connector>
                                                                  </Node>
                                                                </Connector>
                                                                <Connector Identifier="ConditionFalse">
                                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                </Connector>
                                                              </Node>
                                                            </Connector>
                                                          </Node>
                                                          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_29">
                                                            <Connector Identifier="GenericChildren">
                                                              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_attack_core.xml" />
                                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                            </Connector>
                                                          </Node>
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensedFloat" LastSensedTimeWithin="0.5" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_55_CLONE_CLONE_CLONE">
                                                    <Connector Identifier="GenericChildren">
                                                      <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="False" Time="0.5" TimerType="THREAT_AWARE_VISUAL_RETENTION_TIMER:18" />
                                                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="MB_THREAT_AWARE_MOVE_TO_BEFORE_ANIM:61">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_55_CLONE_CLONE">
                                                    <Connector Identifier="GenericChildren">
                                                      <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="DONE_THREAT_AWARE:15">
                                                        <Connector Identifier="ConditionFalse">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.ConditionTargetsWeaponHasProperty" WeaponProperty="ALIEN_THREAT_AWARE_OF:0">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ConditionTargetsWeaponHasAmmo">
                                                            <Connector Identifier="ConditionTrue">
                                                              <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="THREAT_AWARE_VISUAL_RETENTION_TIMER:18">
                                                                <Connector Identifier="ConditionFalse">
                                                                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_31_CLONE_CLONE_CLONE_CLONE">
                                                                    <Connector Identifier="GenericChildren">
                                                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="14">
                                                                        <Connector Identifier="ConditionFalse">
                                                                          <Node Class="LegendPlugin.Nodes.ActionMoveToTarget" MovementSpeedType="Fastest:3" PlayStoppingAnim="False" RequestShutDownSpeed="SST_GRACEFULL:0" StoppingDistance="0" />
                                                                        </Connector>
                                                                      </Node>
                                                                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="IGNORE_CHILD_FAIL:1" Name="SEQ_55_CLONE_CLONE_CLONE">
                                                                        <Connector Identifier="GenericChildren">
                                                                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="12">
                                                                            <Connector Identifier="ConditionFalse">
                                                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                            </Connector>
                                                                          </Node>
                                                                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="12">
                                                                            <Connector Identifier="ConditionTrue">
                                                                              <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                                                <Connector Identifier="ConditionTrue">
                                                                                  <Node Class="LegendPlugin.Nodes.ConditionVisualSomeRaysThroughGlass">
                                                                                    <Connector Identifier="ConditionTrue">
                                                                                      <Node Class="LegendPlugin.Nodes.ActionMoveToTarget" MovementSpeedType="Slow:1" PlayStoppingAnim="True" RequestShutDownSpeed="SST_GRACEFULL:0" StoppingDistance="0" />
                                                                                    </Connector>
                                                                                    <Connector Identifier="ConditionFalse">
                                                                                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_14_CLONE_CLONE_CLONE">
                                                                                        <Connector Identifier="GenericChildren">
                                                                                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="9.5">
                                                                                            <Connector Identifier="ConditionTrue">
                                                                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                                            </Connector>
                                                                                          </Node>
                                                                                          <Node Class="LegendPlugin.Nodes.ActionMoveToTarget" MovementSpeedType="Slow:1" PlayStoppingAnim="True" RequestShutDownSpeed="SST_GRACEFULL:0" StoppingDistance="10" />
                                                                                        </Connector>
                                                                                      </Node>
                                                                                    </Connector>
                                                                                  </Node>
                                                                                </Connector>
                                                                                <Connector Identifier="ConditionFalse">
                                                                                  <Node Class="LegendPlugin.Nodes.ActionMoveToTarget" MovementSpeedType="Slow:1" PlayStoppingAnim="True" RequestShutDownSpeed="SST_GRACEFULL:0" StoppingDistance="0" />
                                                                                </Connector>
                                                                              </Node>
                                                                            </Connector>
                                                                            <Connector Identifier="ConditionFalse">
                                                                              <Node Class="LegendPlugin.Nodes.ActionMoveToTarget" MovementSpeedType="Fast:2" PlayStoppingAnim="False" RequestShutDownSpeed="SST_GRACEFULL:0" StoppingDistance="0" />
                                                                            </Connector>
                                                                          </Node>
                                                                        </Connector>
                                                                      </Node>
                                                                    </Connector>
                                                                  </Node>
                                                                </Connector>
                                                              </Node>
                                                            </Connector>
                                                          </Node>
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.ActionThreatAware" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="MB_THREAT_AWARE_MOVE_TO_FLANKED_VENT:63">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.DecoratorLockBestVents" VentLockReason="FLANKED_VENT_ATTACK_FROM_THREAT_AWARE:1">
                                                    <Connector Identifier="GenericChildren">
                                                      <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="False" Time="1" TimerType="THREAT_AWARE_VISUAL_RETENTION_TIMER:18">
                                                        <Connector Identifier="GenericChildren">
                                                          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="False" Time="-1" TimerType="FLANKED_VENT_ATTACK_TIMER:17">
                                                            <Connector Identifier="GenericChildren">
                                                              <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="False" Time="-1" TimerType="ATTACK_KEEP_CHASING_TIMER:12">
                                                                <Connector Identifier="GenericChildren">
                                                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_43_CLONE_CLONE_CLONE_CLONE_CLONE_CLONE_CLONE_CLONE_CLONE_CLONE_CLONE_CLONE">
                                                                    <Connector Identifier="GenericChildren">
                                                                      <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="THREAT_AWARE_VISUAL_RETENTION_TIMER:18">
                                                                        <Connector Identifier="ConditionFalse">
                                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                        </Connector>
                                                                      </Node>
                                                                      <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensedFloat" LastSensedTimeWithin="0.5" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                                        <Connector Identifier="ConditionTrue">
                                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                        </Connector>
                                                                      </Node>
                                                                      <Node Class="LegendPlugin.Nodes.ConditionIsBackstage">
                                                                        <Connector Identifier="ConditionFalse">
                                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                        </Connector>
                                                                      </Node>
                                                                      <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="ALLOW_FLANKED_VENT_ATTACK:19">
                                                                        <Connector Identifier="ConditionTrue">
                                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                        </Connector>
                                                                      </Node>
                                                                      <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="FLANKED_VENT_ATTACK_TIMER:17">
                                                                        <Connector Identifier="ConditionTrue">
                                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                        </Connector>
                                                                      </Node>
                                                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="8">
                                                                        <Connector Identifier="ConditionFalse">
                                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                        </Connector>
                                                                      </Node>
                                                                      <Node Class="LegendPlugin.Nodes.ConditionHasVentCloseToAlien" VentLockReason="FLANKED_VENT_ATTACK_FROM_THREAT_AWARE:1">
                                                                        <Connector Identifier="ConditionTrue">
                                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                        </Connector>
                                                                      </Node>
                                                                      <Node Class="LegendPlugin.Nodes.ConditionHasFlankedVentCloseToPlayer" VentLockReason="FLANKED_VENT_ATTACK_FROM_THREAT_AWARE:1">
                                                                        <Connector Identifier="ConditionTrue">
                                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                        </Connector>
                                                                      </Node>
                                                                      <Node Class="LegendPlugin.Nodes.ActionMoveToBackstageViaVentClosestToAlien" RequestShutDownSpeed="SST_GRACEFULL:0" VentLockReason="FLANKED_VENT_ATTACK_FROM_THREAT_AWARE:1" />
                                                                      <Node Class="LegendPlugin.Nodes.ActionMoveToFrontStageViaFlankedVentClosestToPlayer" RequestShutDownSpeed="SST_GRACEFULL:0" VentLockReason="FLANKED_VENT_ATTACK_FROM_THREAT_AWARE:1" />
                                                                      <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="ALLOW_FLANKED_VENT_ATTACK:19" />
                                                                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                                                                    </Connector>
                                                                  </Node>
                                                                </Connector>
                                                              </Node>
                                                            </Connector>
                                                          </Node>
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="THREAT_AWARE_TIMEOUT_TIMER:1">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="DOING_THREAT_AWARE_ANIM:14">
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_BREAKOUT:4" />
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="MB_THREAT_AWARE_MOVE_TO_AFTER_ANIM:62">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_55_CLONE_CLONE">
                                                    <Connector Identifier="GenericChildren">
                                                      <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="DONE_THREAT_AWARE:15">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.ConditionTargetsWeaponHasProperty" WeaponProperty="ALIEN_THREAT_AWARE_OF:0">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ConditionTargetsWeaponHasAmmo">
                                                            <Connector Identifier="ConditionTrue">
                                                              <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="THREAT_AWARE_VISUAL_RETENTION_TIMER:18">
                                                                <Connector Identifier="ConditionFalse">
                                                                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_31_CLONE_CLONE_CLONE_CLONE_CLONE">
                                                                    <Connector Identifier="GenericChildren">
                                                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="14">
                                                                        <Connector Identifier="ConditionFalse">
                                                                          <Node Class="LegendPlugin.Nodes.ActionMoveToTarget" MovementSpeedType="Fastest:3" PlayStoppingAnim="False" RequestShutDownSpeed="SST_GRACEFULL:0" StoppingDistance="0" />
                                                                        </Connector>
                                                                      </Node>
                                                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="12">
                                                                        <Connector Identifier="ConditionTrue">
                                                                          <Node Class="LegendPlugin.Nodes.ActionMoveToTarget" MovementSpeedType="Slow:1" PlayStoppingAnim="False" RequestShutDownSpeed="SST_GRACEFULL:0" StoppingDistance="0" />
                                                                        </Connector>
                                                                        <Connector Identifier="ConditionFalse">
                                                                          <Node Class="LegendPlugin.Nodes.ActionMoveToTarget" MovementSpeedType="Fast:2" PlayStoppingAnim="False" RequestShutDownSpeed="SST_GRACEFULL:0" StoppingDistance="0" />
                                                                        </Connector>
                                                                      </Node>
                                                                    </Connector>
                                                                  </Node>
                                                                </Connector>
                                                              </Node>
                                                            </Connector>
                                                          </Node>
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="MB_THREAT_AWARE_MOVE_TO_LOST_VISUAL:60">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_57">
                                                    <Comment Background="Blue:1" Text="Move to last sensed pos" />
                                                    <Connector Identifier="GenericChildren">
                                                      <Node Class="LegendPlugin.Nodes.ConditionHasAnySenseBeenAbove" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="14">
                                                            <Connector Identifier="ConditionTrue">
                                                              <Node Class="LegendPlugin.Nodes.ActionMoveToMostRecentSensedPosition" MovementSpeedType="Fast:2" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldAim="False" />
                                                            </Connector>
                                                            <Connector Identifier="ConditionFalse">
                                                              <Node Class="LegendPlugin.Nodes.ActionMoveToMostRecentSensedPosition" MovementSpeedType="Fastest:3" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldAim="False" />
                                                            </Connector>
                                                          </Node>
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTarget" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="1" />
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                    <Connector Identifier="ConditionFalse">
                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="2">
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="alien_flamed_unaware.xml" />
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="android_aggressive_search_check.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_123">
        <Connector Identifier="GenericChildren">
          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_search_precondition.xml" />
          <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="COULD_SEARCH:3" />
          <Node Class="LegendPlugin.Nodes.ActionFail" />
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="android_aggressive_search_variants.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_74">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="PLAYER_HIDING_BRANCH:48">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_136">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_RESPOND_TO_HIDING_PLAYER:4">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_25">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionEventAOccuredAfterB" EventA="TARGET_HIDEING:2" EventB="SENSED_SUSPICIOUS_ITEM:1">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_DO_SUSPICIOUS_ITEM_HIGH_PRIORITY:5">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionEventAOccuredAfterB" EventA="TARGET_HIDEING:2" EventB="SENSED_TARGET:0">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_SEARCH:3">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionEventAOccuredAfterB" EventA="TARGET_HIDEING:2" EventB="SUSPECT_TARGET_RESPONSE:3">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_DO_SUSPECT_TARGET_RESPONSE_MOVE_TO:6">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SUSPICIOUS:3">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="30" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="25" TimerType="HEIGHTENED_SENSES_TIMER:15">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="PLAYER_HIDING:8">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionPerformRole" QueryID="86" RequestShutDownSpeed="SST_GRACEFULL:0" RoleType="HIDING_PLAYER:11" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPICIOUS_ITEM_BRANCH_HIGH:40">
            <Comment Background="Red:2" Text="This one checks the could do sus item frame flag the other way around deliberately as the suspicious items manager needs to set the sus item high priority frame flag so the sus items manager can correctly assign group members the sus item!" />
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_25_CLONE">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionEventAOccuredAfterB" EventA="SENSED_SUSPICIOUS_ITEM:1" EventB="SENSED_TARGET:0">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_SEARCH:3">
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionEventAOccuredAfterB" EventA="SENSED_SUSPICIOUS_ITEM:1" EventB="SUSPECT_TARGET_RESPONSE:3">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_DO_SUSPECT_TARGET_RESPONSE_MOVE_TO:6">
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="SUSPICIOUS_ITEM_HIGH_PRIORITY:2" />
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_140_CLONE">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_DO_SUSPICIOUS_ITEM_HIGH_PRIORITY:5">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemBTPriority" Priority="HIGH:2">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_suspicious_item_common.xml" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SEARCH_BRANCH:7">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_140_CLONE">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_SEARCH:3">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_25_CLONE_CLONE">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionEventAOccuredAfterB" EventA="SENSED_TARGET:0" EventB="SUSPECT_TARGET_RESPONSE:3">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_DO_SUSPECT_TARGET_RESPONSE_MOVE_TO:6">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_systematic_search.xml" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPECT_TARGET_RESPONSE_BRANCH:11">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SUSPICIOUS:3">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="30" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_140_CLONE_CLONE">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_DO_SUSPECT_TARGET_RESPONSE_MOVE_TO:6">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ActionPerformRole" QueryID="240" RequestShutDownSpeed="SST_GRACEFULL:0" RoleType="SUSPECT_RESPONSE_MOVE_TO:13" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="android_aggressive_suspicious_item.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPICIOUS_ITEM_BRANCH_HIGH:40">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_22">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemBTPriority" Priority="HIGH:2">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionShouldProcessSuspiciousItem">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_122">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="COULD_DO_SUSPICIOUS_ITEM_HIGH_PRIORITY:5" />
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                  </Node>
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_121">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="SEARCH_AREA:5" />
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="android_attack_core.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="ATTACK_BRANCH:2">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="60" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="55" TimerType="HEIGHTENED_SENSES_TIMER:15">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_44">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionTargetLogicCharacterFlags" FlagType="PLAYER_HIDING:8">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionFail" />
                            </Connector>
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsOnlyAccessibleCrouching" Distance="20">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_74_CLONE">
                            <Comment Background="Blue:1" Text="Crawl Space only" />
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_23">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_3:3">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="COMBINED:8" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_3:3">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="IGNORE_CHILD_FAIL:1" Name="SEQUENCE_12_CLONE">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ActionNotifySquad" CombatState="ATTACKING:2" />
                                  <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="False" Time="45" TimerType="TARGET_IN_CRAWLSPACE_TIMER:14" />
                                  <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_11_CLONE">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_40_CLONE">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_3:3">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                            </Connector>
                                          </Node>
                                          <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="COMBINED:8" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_3:3">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="AWARE:6">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_41_CLONE">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_4_CLONE">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.ConditionAllowedToAttackTarget">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="TARGET:1">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                                                    </Connector>
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistanceUnobscured" Distance="2">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ConditionIsInCombatArea" CombatAreaType="COMBAT_AREA_PURSUIT:1">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_melee_attack.xml" />
                                                </Connector>
                                              </Node>
                                              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_pursue_target.xml" />
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_74">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="IGNORE_CHILD_FAIL:1" Name="SEQUENCE_12">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ActionNotifySquad" CombatState="ATTACKING:2" />
                                  <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_11">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_40">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_3:3">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                            </Connector>
                                          </Node>
                                          <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="COMBINED:8" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_3:3">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="AWARE:6">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_41">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_4">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.ConditionAllowedToAttackTarget">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ConditionIsCharacterClass" CharacterClass="ANDROID_HEAVY:7" CharacterType="OWNER:0">
                                                    <Comment Background="Orange:5" Text="Heavy Androids have a longer attack range" />
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistanceUnobscured" Distance="1.9">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistanceUnobscured" Distance="1.4">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ConditionIsInCombatArea" CombatAreaType="COMBAT_AREA_PURSUIT:1">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_melee_attack.xml" />
                                                </Connector>
                                              </Node>
                                              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_pursue_target.xml" />
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="android_behave.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_42">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.ConditionHaveNextTarget">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_167">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ActionSwitchToNextTarget" />
                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="IS_IN_EXPLOITABLE_AREA:21" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="ALERT_BRANCH:36">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHasAlertnessState" AlertnessState="ALERT:1">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="False" SenseType="DAMAGED:4" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_137">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ActionMakeAggressive" />
                          <Node Class="LegendPlugin.Nodes.ActionFail" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="PRIMARY_CONTROL_RESPONSE_BRANCH:29">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionRequiresPrimaryDamageControlResponse">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionApplyPrimaryDamageControlResponse" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPEND_BRANCH:46">
            <Comment Background="Green:3" Text="This is for Save Load - and maybe one day: AI Lodding" />
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionShouldSuspend">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuspend" RequestShutDownSpeed="SST_CRITICAL:2" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="SHOULD_RESET:1">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_76">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="SHOULD_RESET:1" />
                  <Node Class="LegendPlugin.Nodes.ActionIdleTime" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="0.01" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="DEAD_BRANCH:30">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionIsDead">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="DEAD:0">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionDead" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="CORPSE_TRAP_BRANCH:50">
            <Connector Identifier="GenericChildren">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_corpse_trap.xml" />
            </Connector>
          </Node>
          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="static_convo_behaviour.xml" />
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="CINEMATIC_BRANCH:1">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="CINEMATIC_MOTIVATION:0">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionHasScript">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionScript" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="ATTACK_BRANCH:2">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="AWARE:6">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="60" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="55" TimerType="HEIGHTENED_SENSES_TIMER:15">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_124_CLONE">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="SHOULD_ATTACK:5">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="SHOULD_ATTACK:5" />
                              <Node Class="LegendPlugin.Nodes.ActionMeleeAttack" AttackType="ANY:0" RequestShutDownSpeed="SST_GRACEFULL:0" />
                              <Node Class="LegendPlugin.Nodes.ActionIdleTime" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="1" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionDebugMenuLinkTest" DefaultBehaviour="False" In_Game_Menu_Text="Android Direct Control">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionCanBeControlledByGamepad">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionMoveWithGamepad" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionDebugMenuLinkTest" DefaultBehaviour="False" In_Game_Menu_Text="Force Android Idle">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="OBSERVE_TARGET_BRANCH:51">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="OBSERVE_TARGET_MOTIVATION:27">
                <Connector Identifier="ConditionTrue">
                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_observe_target.xml" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="AGRESSIVE_BRANCH:35">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHasAlertnessState" AlertnessState="AGGRESSIVE:2">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_43">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="USE_COVER_MOTIVATION:14">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_cover.xml" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="ATTACK_MOTIVATION:1">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_attack_core.xml" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="ATTACK_MOTIVATION:1">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="TARGET_IN_CRAWLSPACE_BRANCH:53">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SEARCHING_AREA:4">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="60" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="55" TimerType="HEIGHTENED_SENSES_TIMER:15">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="TARGET_IN_CRAWLSPACE_TIMER:14">
                                            <Connector Identifier="ConditionFalse">
                                              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_22">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_45">
                                                    <Connector Identifier="GenericChildren">
                                                      <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.ConditionTargetLogicCharacterFlags" FlagType="PLAYER_HIDING:8">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                                                            <Connector Identifier="ConditionTrue">
                                                              <Node Class="LegendPlugin.Nodes.ActionFail" />
                                                            </Connector>
                                                            <Connector Identifier="ConditionFalse">
                                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                            </Connector>
                                                          </Node>
                                                        </Connector>
                                                        <Connector Identifier="ConditionFalse">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsOnlyAccessibleCrouching" Distance="20">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_26">
                                                            <Connector Identifier="GenericChildren">
                                                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_31">
                                                                <Connector Identifier="GenericChildren">
                                                                  <Node Class="LegendPlugin.Nodes.ConditionAllowedToAttackTarget">
                                                                    <Connector Identifier="ConditionTrue">
                                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                    </Connector>
                                                                  </Node>
                                                                  <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="TARGET:1">
                                                                    <Connector Identifier="ConditionTrue">
                                                                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                                                                    </Connector>
                                                                    <Connector Identifier="ConditionFalse">
                                                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistanceUnobscured" Distance="3">
                                                                        <Connector Identifier="ConditionTrue">
                                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                        </Connector>
                                                                      </Node>
                                                                    </Connector>
                                                                  </Node>
                                                                  <Node Class="LegendPlugin.Nodes.ConditionIsInCombatArea" CombatAreaType="COMBAT_AREA_PURSUIT:1">
                                                                    <Connector Identifier="ConditionTrue">
                                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                    </Connector>
                                                                  </Node>
                                                                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_melee_attack.xml" />
                                                                </Connector>
                                                              </Node>
                                                              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_pursue_target.xml" />
                                                            </Connector>
                                                          </Node>
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ActionExpireTimer" TimerType="TARGET_IN_CRAWLSPACE_TIMER:14" />
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="REACT_TO_WEAPON_MOTIVATION:21">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="REACT_TO_WEAPON_FIRE_BRANCH:38">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_17">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_11">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="False" SenseType="DAMAGED:4" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="False" SenseType="HEARD_COMBAT:1" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_37">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="COULD_SEARCH:3" />
                                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="OBSERVE_TARGET_MOTIVATION:27">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_observe_target.xml" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="SUSPECT_TARGET_RESPONSE_MOTIVATION:9">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_suspicious.xml" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="SUSPECT_TARGET_RESPONSE_MOTIVATION:9">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPECT_TARGET_RESPONSE_BRANCH:11">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionSquadDoingSuspiciousWarning">
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ConditionHasDoneSuspectResponseMoveTo">
                                    <Connector Identifier="ConditionFalse">
                                      <Node Class="LegendPlugin.Nodes.ConditionHasDoneSuspectResponseWithinTime" TimeConstraint="10">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="240" RoleType="SUSPECT_RESPONSE_MOVE_TO:13">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_82_CLONE_CLONE">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.ConditionWasSenseThresholdLastIncreaseActivationAbove" MustBeTriggered="False" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ConditionWasSenseThresholdLastIncreaseActivationAbove" MustBeTriggered="False" SenseType="HEARD_COMBAT:1" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ConditionWasSenseThresholdLastIncreaseActivationAbove" MustBeTriggered="False" SenseType="HEARD_MOVEMENT:3" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ConditionWasSenseThresholdLastIncreaseActivationAbove" MustBeTriggered="False" SenseType="DAMAGED:4" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ConditionWasSenseThresholdLastIncreaseActivationAbove" MustBeTriggered="False" SenseType="TOUCHED:5" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ConditionWasSenseThresholdLastIncreaseActivationAbove" MustBeTriggered="False" SenseType="COMBINED:8" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ConditionWasSenseThresholdLastIncreaseActivationAbove" MustBeTriggered="False" SenseType="SEE_FLASH_LIGHT:7" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="COULD_DO_SUSPECT_TARGET_RESPONSE_MOVE_TO:6" />
                                                  <Node Class="LegendPlugin.Nodes.ActionFail" />
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="PLAYER_HIDE_MOTIVATION:26">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="PlayerIsHiding.xml" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="SUSPICIOUS_ITEM_MOTIVATION:22">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_aggressive_suspicious_item.xml" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="SEARCH_SYSTEMATIC_MOTIVATION:5">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SEARCH_BRANCH:7">
                            <Connector Identifier="GenericChildren">
                              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_aggressive_search_check.xml" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_aggressive_search_variants.xml" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="ALERT_BRANCH:36">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHasAlertnessState" AlertnessState="ALERT:1">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_12">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="False" SenseType="HEARD_COMBAT:1" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ConditionLastTimeTargetShotAtMe" TimeConstraint="1">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionMakeAggressive" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="False" SenseType="DAMAGED:4" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionMakeAggressive" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="SUSPICIOUS_ITEM_MOTIVATION:22">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_38">
                <Connector Identifier="GenericChildren">
                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_suspicious_item_high.xml" />
                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_suspicious_item_medium.xml" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SCRIPT_BRANCH:31">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHasScript">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionScript" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="SUSPICIOUS_ITEM_MOTIVATION:22">
            <Connector Identifier="ConditionTrue">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_suspicious_item_low.xml" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="IDLE_JOB_BRANCH:14">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="IDLE_JOB_MOTIVATION:13">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="2" RoleType="IDLE:0">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ActionPerformRole" QueryID="2" RequestShutDownSpeed="SST_GRACEFULL:0" RoleType="IDLE:0" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="STANDARD_BRANCH:6">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHasObjective" ObjectiveType="OBJECTIVE_TYPE_START_POS:1">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionObjectiveIsWithinDistance" Distance="1" ObjectiveType="OBJECTIVE_TYPE_START_POS:1">
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_18">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ActionStartTimerRandom" MaxTime="2" MinTime="1" TimerType="DELAY_RETURN_TO_SPAWN_POINT_TIMER:13" />
                              <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="DELAY_RETURN_TO_SPAWN_POINT_TIMER:13">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_53">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="get_out_of_way.xml" />
                                      <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ActionMoveToObjective" MovementSpeedType="Slow:1" ObjectiveType="OBJECTIVE_TYPE_START_POS:1" RequestShutDownSpeed="SST_GRACEFULL:0" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="IDLE_BRANCH:32">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_44">
                    <Connector Identifier="GenericChildren">
                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="get_out_of_way.xml" />
                      <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="android_cant_reach_target.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_28">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionPlayerIsInExploitableArea">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="TARGET:1">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
            </Connector>
            <Connector Identifier="ConditionFalse">
              <Node Class="LegendPlugin.Nodes.ConditionTargetIsOnlyAccessibleCrouching" Distance="20">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionHasValidRouteToNearTarget" Distance="3">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.ConditionHasValidRouteToNearTarget" Distance="1.1">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionTargetIsInCombatArea" CombatAreaType="COMBAT_AREA_PURSUIT:1" UseLastSensedPosition="False">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ActionFail" />
            </Connector>
            <Connector Identifier="ConditionFalse">
              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="android_corpse_trap.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="60" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="55" TimerType="HEIGHTENED_SENSES_TIMER:15">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionIsCorpseTrap">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_30">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_41">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="SHOULD_ATTACK:5">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="SHOULD_ATTACK:5" />
                          <Node Class="LegendPlugin.Nodes.ConditionHasMeleeAttackAvailable" AttackType="TRAP:4">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="AWARE:6">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ActionMeleeAttack" AttackType="TRAP:4" RequestShutDownSpeed="SST_GRACEFULL:0" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_13">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionHaveNextTarget">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionSwitchToNextTarget" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_1">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistance" Distance="1">
                                    <Connector Identifier="ConditionFalse">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistanceUnobscured" Distance="3">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ConditionAngleFromTargetAgainstTargetCameraDirnLessThan" AngleLessThan="90">
                                    <Connector Identifier="ConditionFalse">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsOnlyAccessibleCrouching" Distance="20">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                                    </Connector>
                                    <Connector Identifier="ConditionFalse">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ConditionAllowedToAttackTarget">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ConditionHasMeleeAttackAvailable" AttackType="TRAP:4">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_ATTACK:5" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="android_cover.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="USE_COVER_BRANCH:15">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="AWARE:6">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_1">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsInCombatArea" CombatAreaType="COMBAT_AREA_PURSUIT:1" UseLastSensedPosition="True">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ConditionHasAnySenseBeenAboveWithinTime" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeConstraint="45">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="DAMAGED:4" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_10:6">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionTargetLogicCharacterFlags" FlagType="PLAYER_HIDING:8">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionFail" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                    </Connector>
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_cant_reach_target.xml" />
                  <Node Class="LegendPlugin.Nodes.ConditionHasObjective" ObjectiveType="OBJECTIVE_TYPE_SAFE_POINT:3">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionObjectiveIsInCombatArea" CombatAreaType="COMBAT_AREA_PURSUIT:1" ObjectiveType="OBJECTIVE_TYPE_SAFE_POINT:3">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_8">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                        <Comment Background="Blue:1" Text="If we can't reach the target, stay in cover for 45 secs. If we can reach them again, reduce the timeout period and  fail cover if we sense the target." />
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_2">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_2">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_cant_reach_target.xml" />
                                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsInCombatArea" CombatAreaType="COMBAT_AREA_PURSUIT:1" UseLastSensedPosition="True">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ConditionHasAnySenseBeenAboveWithinTime" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeConstraint="45">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                    </Connector>
                                    <Connector Identifier="ConditionFalse">
                                      <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="DAMAGED:4" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_10:6">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ConditionIsAnySenseActivationAbove" MustBeTriggered="True" ThresholdQualifier="LOWER_THRESHOLD:1">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionFail" />
                                </Connector>
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ConditionHasAnySenseBeenAboveWithinTime" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeConstraint="5">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionObjectiveIsWithinDistance" Distance="0.8" ObjectiveType="OBJECTIVE_TYPE_SAFE_POINT:3">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTargetMostRecentSensedPosition" FacingTolerance="10" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" ThresholdQualifier="LOWER_THRESHOLD:1" Time="5" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_2">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ActionMoveToObjective" MovementSpeedType="Fastest:3" ObjectiveType="OBJECTIVE_TYPE_SAFE_POINT:3" RequestShutDownSpeed="SST_GRACEFULL:0" />
                              <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTargetMostRecentSensedPosition" FacingTolerance="10" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" ThresholdQualifier="LOWER_THRESHOLD:1" Time="5" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="android_melee_attack.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="MELEE_BRANCH:17">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.ConditionHasMeleeAttackAvailable" AttackType="ANY:0">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_ATTACK:5" />
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="android_observe_target.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="AWARE:6">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_3">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_33">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="OBSERVE_TARGET_TIMER:23">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_3">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="HEARD_MOVEMENT:3" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionIsCharacterClass" CharacterClass="ALIEN:1" CharacterType="TARGET:1">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_3">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="False" Time="15" TimerType="OBSERVE_TARGET_TIMER:23" />
                  <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTarget" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="5" />
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="android_pursue_target.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="PURSUE_TARGET_BRANCH:26">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.ConditionAllowedToPursueTarget">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionAllowedToAttackTarget">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_4">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionIsInCombatArea" CombatAreaType="COMBAT_AREA_PURSUIT:1">
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsInCombatArea" CombatAreaType="COMBAT_AREA_PURSUIT:1" UseLastSensedPosition="False">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTargetMostRecentSensedPosition" FacingTolerance="5" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" ThresholdQualifier="TRACE_THRESHOLD:0" Time="5" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_run_to_target.xml" />
                    </Connector>
                  </Node>
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.ConditionHasObjective" ObjectiveType="OBJECTIVE_TYPE_MOVE:0">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionIsInCombatArea" CombatAreaType="COMBAT_AREA_PURSUIT:1">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ConditionObjectiveIsWithinDistance" Distance="0.8" ObjectiveType="OBJECTIVE_TYPE_MOVE:0">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTargetMostRecentSensedPosition" FacingTolerance="5" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" ThresholdQualifier="TRACE_THRESHOLD:0" Time="5" />
                            </Connector>
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionMoveToObjective" MovementSpeedType="Fastest:3" ObjectiveType="OBJECTIVE_TYPE_MOVE:0" RequestShutDownSpeed="SST_GRACEFULL:0" />
                            </Connector>
                          </Node>
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ConditionObjectiveIsInCombatArea" CombatAreaType="COMBAT_AREA_PURSUIT:1" ObjectiveType="OBJECTIVE_TYPE_MOVE:0">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ConditionObjectiveIsWithinDistance" Distance="0.8" ObjectiveType="OBJECTIVE_TYPE_MOVE:0">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTargetMostRecentSensedPosition" FacingTolerance="5" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" ThresholdQualifier="TRACE_THRESHOLD:0" Time="5" />
                                </Connector>
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ActionMoveToObjective" MovementSpeedType="Fastest:3" ObjectiveType="OBJECTIVE_TYPE_MOVE:0" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                </Connector>
                              </Node>
                            </Connector>
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTargetMostRecentSensedPosition" FacingTolerance="5" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" ThresholdQualifier="TRACE_THRESHOLD:0" Time="5" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTargetMostRecentSensedPosition" FacingTolerance="5" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" ThresholdQualifier="TRACE_THRESHOLD:0" Time="5" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
            <Connector Identifier="ConditionFalse">
              <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="android_run_to_target.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="CLOSE_ON_TARGET_BRANCH:19">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.ConditionHasValidRouteToNearTarget" Distance="20">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionTargetNearestStandPointIsWithinDistance" Distance="0.5">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTarget" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="5" />
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_35">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_13">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionAllowedToAttackTarget">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ConditionHasValidRouteToNearTarget" Distance="0">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ActionMoveThroughTarget" MovementSpeedType="Fastest:3" RequestShutDownSpeed="SST_GRACEFULL:0" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ActionMoveToNearestStandingPointToTarget" MovementSpeedType="Fastest:3" PlayStoppingAnim="True" RequestShutDownSpeed="SST_GRACEFULL:0" StoppingDistance="1" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
            <Connector Identifier="ConditionFalse">
              <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="android_search_precondition.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_104">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="IS_IN_EXPLOITABLE_AREA:21">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_125">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionHasSearchedMostRecentSensedPosition">
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_73">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionHasAnySenseBeenAboveWithinTime" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeConstraint="45">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionLastTimeSearchedWithinTime" TimeConstraint="45">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="android_suspicious.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPECT_TARGET_RESPONSE_BRANCH:11">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SUSPICIOUS:3">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionSquadDoingSuspiciousWarning">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionLastTimeSquadNotified" CombatState="SUSPICIOUS_WARNING:9" TimeThreshold="TM_5:5">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTargetMostRecentSensedPosition" FacingTolerance="5" NoiseTime="0.5" RequestShutDownSpeed="SST_GRACEFULL:0" ThresholdQualifier="LOWER_THRESHOLD:1" Time="5" />
                    </Connector>
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_33">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ActionNotifySquad" CombatState="SUSPICIOUS_WARNING_FAILED:10" />
                          <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTargetMostRecentSensedPosition" FacingTolerance="5" NoiseTime="0.5" RequestShutDownSpeed="SST_GRACEFULL:0" ThresholdQualifier="LOWER_THRESHOLD:1" Time="5" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="30" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_1">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_82">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionIsAnySenseActivationAbove" MustBeTriggered="False" ThresholdQualifier="LOWER_THRESHOLD:1">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ConditionLastTimeSquadNotified" CombatState="ATTACKING:2" TimeThreshold="TM_30:10">
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ConditionLastTimeSquadNotified" CombatState="LOST_SENSE:8" TimeThreshold="TM_30:10">
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ActionNotifySquad" CombatState="SUSPICIOUS_WARNING:9" />
                              <Node Class="LegendPlugin.Nodes.ActionSuspectTargetResponse" RequestShutDownSpeed="SST_GRACEFULL:0" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="android_suspicious_item_common.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="10" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="5" TimerType="HEIGHTENED_SENSES_TIMER:15">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorSuspiciousItemInProgress">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_16">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SUSPICIOUS:3">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="IGNORE_CHILD_FAIL:1" Name="STATELESS_16_CLONE_CLONE">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_123">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemShouldDoStage" Stage="INITIAL_REACTION:0">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemReaction" RequestShutDownSpeed="SST_GRACEFULL:0" SuspiciousItemReaction="INITIAL_REACTION:0" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemShouldDoStage" Stage="WAIT_FOR_TEAM_MEMBERS_ROUTING:1">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemWaitForGroupRouting">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingSuspiciousItem" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="-1" WaitForTeamMembersRouting="True" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="MB_SUSPICIOUS_ITEM_ATLEAST_MOVE_CLOSE_TO:55">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemWaitForGroupRouting">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemGroupAllowedToProgress">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="IGNORE_CHILD_FAIL:1" Name="STATELESS_16_CLONE_CLONE">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SUSPICIOUS:3">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemShouldDoStage" Stage="MOVE_CLOSE_TO:2">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemIsWithinDistance" Distance="15">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemIsWithinDistance" Distance="10">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemMoveTo" MovementSpeedType="Slow:1" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldAim="False" />
                                                    </Connector>
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemMoveTo" MovementSpeedType="Fast:2" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldAim="False" />
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                                <Connector Identifier="ConditionFalse">
                                                  <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemMoveTo" MovementSpeedType="Fastest:3" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldAim="False" />
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SEARCHING_AREA:4">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemShouldDoStage" Stage="CLOSE_TO_REACTION:3">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemFirstGroupMember">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemReaction" RequestShutDownSpeed="SST_GRACEFULL:0" SuspiciousItemReaction="CLOSE_TO_FIRST_GROUP_MEMBER_REACTION:1" />
                                                </Connector>
                                                <Connector Identifier="ConditionFalse">
                                                  <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemReaction" RequestShutDownSpeed="SST_GRACEFULL:0" SuspiciousItemReaction="CLOSE_TO_SUBSEQUENT_GROUP_MEMBER_REACTION:2" />
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SEARCHING_AREA:4">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.ConditionHasAlertnessState" AlertnessState="AGGRESSIVE:2">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemShouldDoStage" Stage="CLOSE_TO_WAIT_FOR_GROUP_MEMBERS:4">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ConditionIsPartOfNPCGroup">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_49_CLONE_CLONE">
                                                        <Connector Identifier="GenericChildren">
                                                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_86_CLONE_CLONE">
                                                            <Connector Identifier="GenericChildren">
                                                              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemGroupMembersRoutingTo">
                                                                <Connector Identifier="ConditionTrue">
                                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                </Connector>
                                                              </Node>
                                                              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemGroupMembersRoutingTo">
                                                                <Connector Identifier="ConditionTrue">
                                                                  <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingSuspiciousItem" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="-1" WaitForTeamMembersRouting="False" />
                                                                </Connector>
                                                                <Connector Identifier="ConditionFalse">
                                                                  <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="CLOSE_TO_WAIT_FOR_GROUP_MEMBERS:4" />
                                                                </Connector>
                                                              </Node>
                                                            </Connector>
                                                          </Node>
                                                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_87_CLONE_CLONE">
                                                            <Connector Identifier="GenericChildren">
                                                              <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingSuspiciousItem" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="2" WaitForTeamMembersRouting="False" />
                                                              <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="CLOSE_TO_WAIT_FOR_GROUP_MEMBERS:4" />
                                                            </Connector>
                                                          </Node>
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="CLOSE_TO_WAIT_FOR_GROUP_MEMBERS:4" />
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                                <Connector Identifier="ConditionFalse">
                                                  <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="CLOSE_TO_WAIT_FOR_GROUP_MEMBERS:4" />
                                                </Connector>
                                              </Node>
                                            </Connector>
                                            <Connector Identifier="ConditionFalse">
                                              <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="CLOSE_TO_WAIT_FOR_GROUP_MEMBERS:4" />
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SEARCHING_AREA:4">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.ConditionHasAlertnessState" AlertnessState="AGGRESSIVE:2">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemShouldDoStage" Stage="SEARCH_AREA:5">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="226" RoleType="SYSTEMATIC_SEARCH_SUSPICIOUS_ITEM:3">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_87_CLONE_CLONE_CLONE">
                                                        <Connector Identifier="GenericChildren">
                                                          <Node Class="LegendPlugin.Nodes.ActionPerformRole" QueryID="226" RequestShutDownSpeed="SST_GRACEFULL:0" RoleType="SYSTEMATIC_SEARCH_SUSPICIOUS_ITEM:3" />
                                                          <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="SEARCH_AREA:5" />
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="SEARCH_AREA:5" />
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                            </Connector>
                                            <Connector Identifier="ConditionFalse">
                                              <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="SEARCH_AREA:5" />
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="android_suspicious_item_high.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPICIOUS_ITEM_BRANCH_HIGH:40">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_17_CLONE">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="SUSPICIOUS_ITEM_HIGH_PRIORITY:2" />
              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemBTPriority" Priority="HIGH:2">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionShouldProcessSuspiciousItem">
                <Connector Identifier="ConditionTrue">
                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_suspicious_item_common.xml" />
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_88">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="SEARCH_AREA:5" />
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="android_suspicious_item_low.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPICIOUS_ITEM_BRANCH_HIGH:40">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_17_CLONE">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="SUSPICIOUS_ITEM_LOW_PRIORITY:0" />
              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemBTPriority" Priority="LOW:0">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionShouldProcessSuspiciousItem">
                <Connector Identifier="ConditionTrue">
                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_suspicious_item_common.xml" />
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_88">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="SEARCH_AREA:5" />
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="android_suspicious_item_medium.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPICIOUS_ITEM_BRANCH_HIGH:40">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_17_CLONE">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="SUSPICIOUS_ITEM_MEDIUM_PRIORITY:1" />
              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemBTPriority" Priority="MEDIUM:1">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionShouldProcessSuspiciousItem">
                <Connector Identifier="ConditionTrue">
                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="android_suspicious_item_common.xml" />
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_88">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="SEARCH_AREA:5" />
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="android_systematic_search.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SEARCH_BRANCH:7">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="30" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="25" TimerType="HEIGHTENED_SENSES_TIMER:15">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorSquadSearch">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SEARCHING_AREA:4">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_18">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsInCombatArea" CombatAreaType="COMBAT_AREA_PURSUIT:1" UseLastSensedPosition="True">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ConditionAllowedToSearch">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_36_CLONE">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="61" RoleType="SYSTEMATIC_SEARCH:2">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.ActionPerformRole" QueryID="61" RequestShutDownSpeed="SST_GRACEFULL:0" RoleType="SYSTEMATIC_SEARCH:2" />
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_36">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTargetOutsideCombatArea" FacingTolerance="5" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2" Time="5" />
                                      <Node Class="LegendPlugin.Nodes.ActionDoneSystematicSearch" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="facehugger_behave.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_48">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="PRIMARY_CONTROL_RESPONSE_BRANCH:29">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionRequiresPrimaryDamageControlResponse">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionApplyPrimaryDamageControlResponse" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPEND_BRANCH:46">
            <Comment Background="Green:3" Text="For Load Save" />
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionShouldSuspend">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuspend" RequestShutDownSpeed="SST_CRITICAL:2" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="DEAD_BRANCH:30">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="DEAD:0">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionIsDead">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionDead" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="CINEMATIC_BRANCH:1">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="CINEMATIC_MOTIVATION:0">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionHasScript">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionScript" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="ATTACK_BRANCH:2">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="AWARE:6">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_37">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="SHOULD_ATTACK:5">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="SHOULD_ATTACK:5" />
                      <Node Class="LegendPlugin.Nodes.ActionMeleeAttack" AttackType="VENT:3" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHaveNextTarget">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ActionSwitchToNextTarget" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="STANDARD_BRANCH:6">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionTargetLogicCharacterFlags" FlagType="PLAYER_HIDING:8">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionHasObjective" ObjectiveType="OBJECTIVE_TYPE_START_POS:1">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionObjectiveIsWithinDistance" Distance="1" ObjectiveType="OBJECTIVE_TYPE_START_POS:1">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ActionMoveToObjective" MovementSpeedType="Fastest:3" ObjectiveType="OBJECTIVE_TYPE_START_POS:1" RequestShutDownSpeed="SST_GRACEFULL:0" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="VENT_MELEE_BRANCH:21">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="AWARE:6">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionHasAlertnessState" AlertnessState="AGGRESSIVE:2">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="OWNER:0">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="TARGET:1">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ConditionHasValidRouteToTarget">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinAggroRadius">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_3">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_4">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistanceUnobscured" Distance="1.7">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.ConditionAllowedToAttackTarget">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_ATTACK:5" />
                                            </Connector>
                                          </Node>
                                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistanceUnobscured" Distance="1.7">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                            </Connector>
                                            <Connector Identifier="ConditionFalse">
                                              <Node Class="LegendPlugin.Nodes.ActionMoveToTarget" MovementSpeedType="Fastest:3" PlayStoppingAnim="True" RequestShutDownSpeed="SST_GRACEFULL:0" StoppingDistance="1" />
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="AGRESSIVE_BRANCH:35">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="AWARE:6">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionHasAlertnessState" AlertnessState="AGGRESSIVE:2">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionHasValidRouteToTarget">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinAggroRadius">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_3">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_6">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistanceUnobscured" Distance="1.7">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionAllowedToAttackTarget">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_ATTACK:5" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistanceUnobscured" Distance="1.7">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                    </Connector>
                                    <Connector Identifier="ConditionFalse">
                                      <Node Class="LegendPlugin.Nodes.ActionMoveToTarget" MovementSpeedType="Fastest:3" PlayStoppingAnim="True" RequestShutDownSpeed="SST_GRACEFULL:0" StoppingDistance="1" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="ALERT_BRANCH:36">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionHasAlertnessState" AlertnessState="ALERT:1">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinAggroRadius">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionMakeAggressive" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SCRIPT_BRANCH:31">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionHasScript">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionScript" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="STANDARD_BRANCH:6">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHasObjective" ObjectiveType="OBJECTIVE_TYPE_START_POS:1">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionObjectiveIsWithinDistance" Distance="1" ObjectiveType="OBJECTIVE_TYPE_START_POS:1">
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ActionMoveToObjective" MovementSpeedType="Fastest:3" ObjectiveType="OBJECTIVE_TYPE_START_POS:1" RequestShutDownSpeed="SST_GRACEFULL:0" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="IDLE_BRANCH:32">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="get_out_of_way.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_36">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.ConditionNeedsToGetOutOfTheWay">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorMood" MoodSet="SUSPICIOUS:5">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ActionGetOutOfTheWay" RequestShutDownSpeed="SST_GRACEFULL:0" />
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="human_all_search_variants.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_74">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="PLAYER_HIDING_BRANCH:48">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_136">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_RESPOND_TO_HIDING_PLAYER:4">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_25">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionEventAOccuredAfterB" EventA="TARGET_HIDEING:2" EventB="SENSED_SUSPICIOUS_ITEM:1">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_DO_SUSPICIOUS_ITEM_HIGH_PRIORITY:5">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionEventAOccuredAfterB" EventA="TARGET_HIDEING:2" EventB="SENSED_TARGET:0">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_SEARCH:3">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionEventAOccuredAfterB" EventA="TARGET_HIDEING:2" EventB="SUSPECT_TARGET_RESPONSE:3">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_DO_SUSPECT_TARGET_RESPONSE_MOVE_TO:6">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="30" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="25" TimerType="HEIGHTENED_SENSES_TIMER:15">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.DecoratorMood" MoodSet="SUSPICIOUS:5">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SUSPICIOUS:3">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="PLAYER_HIDING:8">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_136_CLONE">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.ActionExpireTimer" TimerType="SEARCH_BAN_TIMER:22" />
                                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="IGNORE_CHILD_FAIL:1" Name="SEQUENCE_136_CLONE_CLONE">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_draw_weapon.xml" />
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="217" RoleType="HIDING_PLAYER:11">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ActionPerformRole" QueryID="86" RequestShutDownSpeed="SST_GRACEFULL:0" RoleType="HIDING_PLAYER:11" />
                                                </Connector>
                                                <Connector Identifier="ConditionFalse">
                                                  <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTarget" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="5" />
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPICIOUS_ITEM_BRANCH_HIGH:40">
            <Comment Background="Red:2" Text="This one checks the could do sus item frame flag the other way around deliberately as the suspicious items manager needs to set the sus item high priority frame flag so the sus items manager can correctly assign group members the sus item!" />
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_25_CLONE">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionEventAOccuredAfterB" EventA="SENSED_SUSPICIOUS_ITEM:1" EventB="SENSED_TARGET:0">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_SEARCH:3">
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionEventAOccuredAfterB" EventA="SENSED_SUSPICIOUS_ITEM:1" EventB="SUSPECT_TARGET_RESPONSE:3">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_DO_SUSPECT_TARGET_RESPONSE_MOVE_TO:6">
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="SUSPICIOUS_ITEM_HIGH_PRIORITY:2" />
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_140_CLONE">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_DO_SUSPICIOUS_ITEM_HIGH_PRIORITY:5">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemBTPriority" Priority="HIGH:2">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="human_suspicious_item_common.xml" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SEARCH_BRANCH:7">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_140_CLONE">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_SEARCH:3">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_25_CLONE_CLONE">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionEventAOccuredAfterB" EventA="SENSED_TARGET:0" EventB="SUSPECT_TARGET_RESPONSE:3">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_DO_SUSPECT_TARGET_RESPONSE_MOVE_TO:6">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="human_systematic_search.xml" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPECT_TARGET_RESPONSE_BRANCH:11">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SUSPICIOUS:3">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorMood" MoodSet="SUSPICIOUS:5">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="30" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_140_CLONE_CLONE">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionIsFrameFlagSet" FrameFlag="COULD_DO_SUSPECT_TARGET_RESPONSE_MOVE_TO:6">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ConditionHasAWeapon" Npc_Weapon_Type="WEAPON_TYPE_ANY:0">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ConditionCurrentWeaponIsEquipped">
                                    <Connector Identifier="ConditionFalse">
                                      <Node Class="LegendPlugin.Nodes.ActionWeaponEquip" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldWeaponEquip="SHOULD_EQUIP:0" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="19" RoleType="SUSPECT_RESPONSE_MOVE_TO:13">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ActionPerformRole" QueryID="19" RequestShutDownSpeed="SST_GRACEFULL:0" RoleType="SUSPECT_RESPONSE_MOVE_TO:13" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="human_search_check.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_59">
        <Connector Identifier="GenericChildren">
          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="human_search_preconditions.xml" />
          <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="COULD_SEARCH:3" />
          <Node Class="LegendPlugin.Nodes.ActionFail" />
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="human_search_preconditions.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
        <Connector Identifier="ConditionTrue">
          <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionIsCharacterClass" CharacterClass="PLAYER:0" CharacterType="TARGET:1">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="SEARCH_BAN_TIMER:22">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_111">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionHasSearchedMostRecentSensedPosition">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_81_CLONE">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionHasAnySenseBeenAboveWithinTime" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeConstraint="45">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ConditionLastTimeSearchedWithinTime" TimeConstraint="45">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_50_CLONE">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ActionDoneSystematicSearch" />
                          <Node Class="LegendPlugin.Nodes.ActionFail" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="human_suspicious_item_common.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="10" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="5" TimerType="HEIGHTENED_SENSES_TIMER:15">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorSuspiciousItemInProgress">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorMood" MoodSet="SUSPICIOUS:5">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_16">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SUSPICIOUS:3">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="IGNORE_CHILD_FAIL:1" Name="STATELESS_16_CLONE_CLONE">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_119">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemShouldDoStage" Stage="INITIAL_REACTION:0">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemReaction" RequestShutDownSpeed="SST_GRACEFULL:0" SuspiciousItemReaction="INITIAL_REACTION:0" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemShouldDoStage" Stage="WAIT_FOR_TEAM_MEMBERS_ROUTING:1">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemWaitForGroupRouting">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingSuspiciousItem" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="-1" WaitForTeamMembersRouting="True" />
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="MB_SUSPICIOUS_ITEM_ATLEAST_MOVE_CLOSE_TO:55">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemWaitForGroupRouting">
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemGroupAllowedToProgress">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="IGNORE_CHILD_FAIL:1" Name="STATELESS_16_CLONE_CLONE">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SUSPICIOUS:3">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemShouldDoStage" Stage="MOVE_CLOSE_TO:2">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemIsWithinDistance" Distance="22">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemIsWithinDistance" Distance="15">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemMoveTo" MovementSpeedType="Slow:1" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldAim="True" />
                                                        </Connector>
                                                        <Connector Identifier="ConditionFalse">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemMoveTo" MovementSpeedType="Fast:2" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldAim="True" />
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemMoveTo" MovementSpeedType="Fastest:3" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldAim="True" />
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                          <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SUSPICIOUS:3">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemShouldDoStage" Stage="CLOSE_TO_REACTION:3">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemFirstGroupMember">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemReaction" RequestShutDownSpeed="SST_GRACEFULL:0" SuspiciousItemReaction="CLOSE_TO_FIRST_GROUP_MEMBER_REACTION:1" />
                                                    </Connector>
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemReaction" RequestShutDownSpeed="SST_GRACEFULL:0" SuspiciousItemReaction="CLOSE_TO_SUBSEQUENT_GROUP_MEMBER_REACTION:2" />
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                          <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SUSPICIOUS:3">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemShouldDoStage" Stage="CLOSE_TO_WAIT_FOR_GROUP_MEMBERS:4">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ConditionIsPartOfNPCGroup">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_49_CLONE_CLONE">
                                                        <Connector Identifier="GenericChildren">
                                                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_86_CLONE_CLONE">
                                                            <Connector Identifier="GenericChildren">
                                                              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemGroupMembersRoutingTo">
                                                                <Connector Identifier="ConditionTrue">
                                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                </Connector>
                                                              </Node>
                                                              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemGroupMembersRoutingTo">
                                                                <Connector Identifier="ConditionTrue">
                                                                  <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingSuspiciousItem" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="-1" WaitForTeamMembersRouting="False" />
                                                                </Connector>
                                                                <Connector Identifier="ConditionFalse">
                                                                  <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="CLOSE_TO_WAIT_FOR_GROUP_MEMBERS:4" />
                                                                </Connector>
                                                              </Node>
                                                            </Connector>
                                                          </Node>
                                                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_87_CLONE_CLONE">
                                                            <Connector Identifier="GenericChildren">
                                                              <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingSuspiciousItem" NoiseTime="0.6" RequestShutDownSpeed="SST_GRACEFULL:0" Time="2" WaitForTeamMembersRouting="False" />
                                                              <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="CLOSE_TO_WAIT_FOR_GROUP_MEMBERS:4" />
                                                            </Connector>
                                                          </Node>
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="CLOSE_TO_WAIT_FOR_GROUP_MEMBERS:4" />
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                                <Connector Identifier="ConditionFalse">
                                                  <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="CLOSE_TO_WAIT_FOR_GROUP_MEMBERS:4" />
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                          <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SEARCHING_AREA:4">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemShouldDoStage" Stage="SEARCH_AREA:5">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="226" RoleType="SYSTEMATIC_SEARCH_SUSPICIOUS_ITEM:3">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_87_CLONE_CLONE_CLONE">
                                                        <Connector Identifier="GenericChildren">
                                                          <Node Class="LegendPlugin.Nodes.ActionPerformRole" QueryID="226" RequestShutDownSpeed="SST_GRACEFULL:0" RoleType="SYSTEMATIC_SEARCH_SUSPICIOUS_ITEM:3" />
                                                          <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="SEARCH_AREA:5" />
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="SEARCH_AREA:5" />
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="human_suspicious_item_high.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPICIOUS_ITEM_BRANCH_HIGH:40">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_17_CLONE">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemBTPriority" Priority="HIGH:2">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionShouldProcessSuspiciousItem">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_88_CLONE">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="COULD_DO_SUSPICIOUS_ITEM_HIGH_PRIORITY:5" />
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                  </Node>
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_88">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="SEARCH_AREA:5" />
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="human_suspicious_item_low.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPICIOUS_ITEM_BRANCH_LOW:42">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_17_CLONE">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="SUSPICIOUS_ITEM_LOW_PRIORITY:0" />
              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemBTPriority" Priority="LOW:0">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionShouldProcessSuspiciousItem">
                <Connector Identifier="ConditionTrue">
                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="human_suspicious_item_common.xml" />
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_88">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="SEARCH_AREA:5" />
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="human_suspicious_item_medium.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPICIOUS_ITEM_BRANCH_MEDIUM:41">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_17_CLONE">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="SUSPICIOUS_ITEM_MEDIUM_PRIORITY:1" />
              <Node Class="LegendPlugin.Nodes.ConditionSuspiciousItemBTPriority" Priority="MEDIUM:1">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionShouldProcessSuspiciousItem">
                <Connector Identifier="ConditionTrue">
                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="human_suspicious_item_common.xml" />
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_88">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionSuspiciousItemDoneStage" Stage="SEARCH_AREA:5" />
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="human_systematic_search.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorMood" MoodSet="SUSPICIOUS:5">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SEARCH_BRANCH:7">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="30" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="25" TimerType="HEIGHTENED_SENSES_TIMER:15">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SEARCHING_AREA:4">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.DecoratorSquadSearch">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ConditionIsCharacterClass" CharacterClass="PLAYER:0" CharacterType="TARGET:1">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_81">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.ConditionTargetIsInCombatArea" CombatAreaType="COMBAT_AREA_PURSUIT:1" UseLastSensedPosition="True">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ConditionAllowedToSearch">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_56">
                                                        <Connector Identifier="GenericChildren">
                                                          <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="87" RoleType="SYSTEMATIC_SEARCH:2">
                                                            <Connector Identifier="ConditionTrue">
                                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                            </Connector>
                                                          </Node>
                                                          <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                                                            <Connector Identifier="ConditionTrue">
                                                              <Node Class="LegendPlugin.Nodes.ActionSuspectTargetResponse" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                                            </Connector>
                                                            <Connector Identifier="ConditionFalse">
                                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                            </Connector>
                                                          </Node>
                                                          <Node Class="LegendPlugin.Nodes.ActionPerformRole" QueryID="87" RequestShutDownSpeed="SST_GRACEFULL:0" RoleType="SYSTEMATIC_SEARCH:2" />
                                                          <Node Class="LegendPlugin.Nodes.ActionRangedAim" NoiseTime="4" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldRaiseGun="GUN_RAISED:0" Time="1" />
                                                          <Node Class="LegendPlugin.Nodes.ActionDoneSystematicSearch" />
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_3">
                                                        <Connector Identifier="GenericChildren">
                                                          <Node Class="LegendPlugin.Nodes.ActionRangedAim" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldRaiseGun="GUN_RAISED:0" Time="15" />
                                                          <Node Class="LegendPlugin.Nodes.ActionDoneSystematicSearch" />
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_8">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.ActionRangedAim" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldRaiseGun="GUN_RAISED:0" Time="15" />
                                                  <Node Class="LegendPlugin.Nodes.ActionDoneSystematicSearch" />
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NoBehaviour.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_52">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="PRIMARY_CONTROL_RESPONSE_BRANCH:29">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionRequiresPrimaryDamageControlResponse">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionApplyPrimaryDamageControlResponse" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPEND_BRANCH:46">
            <Comment Background="Green:3" Text="For Load Save" />
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionShouldSuspend">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuspend" RequestShutDownSpeed="SST_CRITICAL:2" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="DEAD_BRANCH:30">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionIsDead">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionDead" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SCRIPT_BRANCH:31">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHasScript">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionScript" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="IDLE_BRANCH:32">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_aggression_escalation.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorMood" MoodSet="THREAT_ESCALATION_AGGRESSIVE:1">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="AGGRESSION_ESCALATION_BRANCH:43">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="30" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="25" TimerType="HEIGHTENED_SENSES_TIMER:15">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_2">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ConditionTargetLogicCharacterFlags" FlagType="IS_IN_EXPLOITABLE_AREA:21">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistance" Distance="15">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionMakeAggressive" />
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_91">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_3">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ConditionSquadDoingEscalation">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_4">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ActionNotifySquad" CombatState="WARNING:1" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.DecoratorAggressionEscalation">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="False" Time="45" TimerType="SEARCH_BAN_TIMER:22">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="AWARE:6">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_4">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.ConditionHasAWeapon" Npc_Weapon_Type="WEAPON_TYPE_ANY:0">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ConditionCurrentWeaponIsEquipped">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ActionWeaponEquip" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldWeaponEquip="SHOULD_EQUIP:0" />
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                                <Connector Identifier="ConditionFalse">
                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_20">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="DAMAGED:4" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionMakeAggressive" />
                                                    </Connector>
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="HEARD_COMBAT:1" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionMakeAggressive" />
                                                    </Connector>
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_10:6">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ActionThreatEscalation" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_aim_at_target.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="AIM_MOTIVATION:12">
        <Connector Identifier="ConditionTrue">
          <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_93">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_57">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_94">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ActionNotifySquad" CombatState="WARNING:1" />
                          <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_22">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_58">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_5:5">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_stand_and_aim.xml" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_attack_core.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="ATTACK_BRANCH:2">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorMood" MoodSet="AGGRESSIVE:3">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="False" Time="60" TimerType="NPC_JUST_LEFT_COMBAT_TIMER:9">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="AWARE:6">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="60" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="55" TimerType="HEIGHTENED_SENSES_TIMER:15">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="attacking">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="TOUCHED:5" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                            </Connector>
                                            <Connector Identifier="ConditionFalse">
                                              <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                </Connector>
                                                <Connector Identifier="ConditionFalse">
                                                  <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="False" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="COMBINED:8" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="IGNORE_CHILD_FAIL:1" Name="SEQUENCE_15">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="combat or advance">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                  <Node Class="LegendPlugin.Nodes.ActionNotifySquad" CombatState="ATTACKING:2" />
                                                  <Node Class="LegendPlugin.Nodes.ActionExpireTimer" TimerType="SEARCH_BAN_TIMER:22" />
                                                  <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_23">
                                                    <Connector Identifier="GenericChildren">
                                                      <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_7">
                                                        <Connector Identifier="GenericChildren">
                                                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                                                            <Connector Identifier="ConditionTrue">
                                                              <Node Class="LegendPlugin.Nodes.ConditionIsInTargetsWeaponRange" WeaponRange="WRT_MAX_RANGE:2">
                                                                <Connector Identifier="ConditionTrue">
                                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                </Connector>
                                                                <Connector Identifier="ConditionFalse">
                                                                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_21">
                                                                    <Connector Identifier="GenericChildren">
                                                                      <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="SEEN_PLAYER_AIM_WEAPON_TIMER:21">
                                                                        <Connector Identifier="ConditionFalse">
                                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                        </Connector>
                                                                      </Node>
                                                                      <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="COMBINED:8" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_1:1">
                                                                        <Connector Identifier="ConditionTrue">
                                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                        </Connector>
                                                                      </Node>
                                                                      <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_1:1">
                                                                        <Connector Identifier="ConditionTrue">
                                                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                        </Connector>
                                                                      </Node>
                                                                    </Connector>
                                                                  </Node>
                                                                </Connector>
                                                              </Node>
                                                            </Connector>
                                                            <Connector Identifier="ConditionFalse">
                                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                            </Connector>
                                                          </Node>
                                                          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_60_CLONE">
                                                            <Connector Identifier="GenericChildren">
                                                              <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_10:6">
                                                                <Connector Identifier="ConditionTrue">
                                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                </Connector>
                                                              </Node>
                                                              <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="COMBINED:8" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_10:6">
                                                                <Connector Identifier="ConditionTrue">
                                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                </Connector>
                                                              </Node>
                                                            </Connector>
                                                          </Node>
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="attack core">
                                                        <Connector Identifier="GenericChildren">
                                                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_draw_weapon.xml" />
                                                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_player_in_exploitable_position.xml" />
                                                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_player_in_vent.xml" />
                                                          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="MELEE_MOTIVATION:16">
                                                            <Connector Identifier="ConditionTrue">
                                                              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_melee_human_attack.xml" />
                                                            </Connector>
                                                          </Node>
                                                          <Node Class="LegendPlugin.Nodes.ConditionShouldUseCover">
                                                            <Connector Identifier="ConditionTrue">
                                                              <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="USE_COVER_MOTIVATION:14">
                                                                <Connector Identifier="ConditionTrue">
                                                                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_cover.xml" />
                                                                </Connector>
                                                              </Node>
                                                            </Connector>
                                                          </Node>
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="CLOSE_COMBAT_BRANCH:24">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="advancing">
                                                    <Connector Identifier="GenericChildren">
                                                      <Node Class="LegendPlugin.Nodes.ActionNotifySquad" CombatState="START_ADVANCE:11" />
                                                      <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_30:10">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                                                            <Connector Identifier="ConditionTrue">
                                                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="move forward">
                                                                <Connector Identifier="GenericChildren">
                                                                  <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                                    <Connector Identifier="ConditionTrue">
                                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                    </Connector>
                                                                    <Connector Identifier="ConditionFalse">
                                                                      <Node Class="LegendPlugin.Nodes.ActionMoveToMostRecentSensedPosition" MovementSpeedType="Fast:2" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldAim="False" />
                                                                    </Connector>
                                                                  </Node>
                                                                  <Node Class="LegendPlugin.Nodes.ActionExpireTimer" TimerType="SEEN_PLAYER_AIM_WEAPON_TIMER:21" />
                                                                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_8">
                                                                    <Connector Identifier="GenericChildren">
                                                                      <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="MELEE_MOTIVATION:16">
                                                                        <Connector Identifier="ConditionTrue">
                                                                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_melee_human_attack.xml" />
                                                                        </Connector>
                                                                      </Node>
                                                                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_19">
                                                                        <Connector Identifier="GenericChildren">
                                                                          <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="False" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                                            <Connector Identifier="ConditionTrue">
                                                                              <Node Class="LegendPlugin.Nodes.ConditionVisualSomeRaysThroughGlass">
                                                                                <Connector Identifier="ConditionTrue">
                                                                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_13">
                                                                                    <Connector Identifier="GenericChildren">
                                                                                      <Node Class="LegendPlugin.Nodes.ActionRangedShoot" RequestShutDownSpeed="SST_GRACEFULL:0" ShootStraightAway="False" TerminationCondition="Shot_1:2" />
                                                                                      <Node Class="LegendPlugin.Nodes.ActionMoveToMostRecentSensedPosition" MovementSpeedType="Fast:2" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldAim="False" />
                                                                                    </Connector>
                                                                                  </Node>
                                                                                </Connector>
                                                                                <Connector Identifier="ConditionFalse">
                                                                                  <Node Class="LegendPlugin.Nodes.ActionRangedShoot" RequestShutDownSpeed="SST_GRACEFULL:0" ShootStraightAway="False" TerminationCondition="Shot_1:2" />
                                                                                </Connector>
                                                                              </Node>
                                                                            </Connector>
                                                                          </Node>
                                                                          <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="can see the player so shoot">
                                                                            <Connector Identifier="GenericChildren">
                                                                              <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                                                                                <Connector Identifier="ConditionTrue">
                                                                                  <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="SEEN_PLAYER_AIM_WEAPON_TIMER:21">
                                                                                    <Connector Identifier="ConditionTrue">
                                                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                                    </Connector>
                                                                                  </Node>
                                                                                </Connector>
                                                                                <Connector Identifier="ConditionFalse">
                                                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                                </Connector>
                                                                              </Node>
                                                                              <Node Class="LegendPlugin.Nodes.ConditionVisualSomeRaysThroughGlass">
                                                                                <Connector Identifier="ConditionFalse">
                                                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                                </Connector>
                                                                              </Node>
                                                                              <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                                                <Connector Identifier="ConditionTrue">
                                                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                                </Connector>
                                                                              </Node>
                                                                              <Node Class="LegendPlugin.Nodes.ConditionCurrentWeaponIsEquipped">
                                                                                <Connector Identifier="ConditionTrue">
                                                                                  <Node Class="LegendPlugin.Nodes.ActionRangedShoot" RequestShutDownSpeed="SST_GRACEFULL:0" ShootStraightAway="False" TerminationCondition="Continuous:0" />
                                                                                </Connector>
                                                                              </Node>
                                                                            </Connector>
                                                                          </Node>
                                                                        </Connector>
                                                                      </Node>
                                                                    </Connector>
                                                                  </Node>
                                                                </Connector>
                                                              </Node>
                                                            </Connector>
                                                          </Node>
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_close_on_target.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="CLOSE_ON_TARGET_BRANCH:19">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.ConditionTargetIsInCombatArea" CombatAreaType="COMBAT_AREA_PURSUIT:1" UseLastSensedPosition="False">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistance" Distance="10">
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_8">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistance" Distance="5">
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ActionMoveThroughTarget" MovementSpeedType="Fast:2" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_cover.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="USE_COVER_BRANCH:15">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_18">
            <Connector Identifier="GenericChildren">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_human_is_about_to_die.xml" />
              <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="SEEN_PLAYER_AIM_WEAPON_TIMER:21">
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionIsInCover" CheckSlotMatchesDesired="False">
                <Comment Background="Red:2" Text="Fail cover if can't shoot at player from cover" />
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionIsCharacterClass" CharacterClass="INNOCENT:6" CharacterType="OWNER:0">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ConditionLastTimeWasAbleToShootTarget" TimeConstraint="11.97">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ConditionIsCharacterClass" CharacterClass="ALIEN:1" CharacterType="TARGET:1">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionFail" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_65">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="IN_COVER_BRANCH:39">
                    <Comment Background="Green:3" Text="Shoot in cover" />
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_3">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionIsCurrentCoverValid">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="SHOOT_IN_COVER_INTERNAL">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionIsInCover" CheckSlotMatchesDesired="True">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ConditionIsCoverExposed" Angle="70">
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="IDLE_IN_COVER">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ActionNotifySquad" CombatState="ENTERED_COVER:4" />
                                  <Node Class="LegendPlugin.Nodes.ActionIdleInCover" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="BROKEN_COVER">
                    <Comment Background="Violet:4" Text="Broken Cover" />
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="WaitingForCover">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionIsCurrentCoverValid">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ConditionHasValidCoverToChangeTo">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ConditionIsRequestingCover">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                    <Connector Identifier="ConditionFalse">
                                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="npc_request_cover.xml" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ConditionIsCurrentCoverValid">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ConditionHasValidCoverToChangeTo">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ConditionIsRequestingCover">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_stand_and_shoot.xml" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="IGNORE_CHILD_FAIL:1" Name="INVALID_COVER_BEHAVIOUR">
                        <Comment Background="Blue:1" Text="if cover is invalid then change new cover or request cover" />
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionIsCurrentCoverValid">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ConditionHasValidCoverToChangeTo">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionChangeCover" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="MOVE_TO_COVER">
                        <Comment Background="Orange:5" Text="Move to cover" />
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionIsCurrentCoverValid">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ActionMoveToCover" RequestShutDownSpeed="SST_GRACEFULL:0" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_draw_weapon.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="DRAW_WEAPON_BRANCH:25">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.ConditionHasAWeapon" Npc_Weapon_Type="WEAPON_TYPE_ANY:0">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionCurrentWeaponIsEquipped">
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.ActionWeaponEquip" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldWeaponEquip="SHOULD_EQUIP:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_hears_backstage_alien.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorMood" MoodSet="PANICKED:4">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="BACKSTAGE_ALIEN_RESPONSE_BRANCH:64">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="10" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="5" TimerType="HEIGHTENED_SENSES_TIMER:15">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SUSPICIOUS:3">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="CLOSE_TO_BACKSTAGE_ALIEN:20">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_36">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ActionFail" />
                                  <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="RESPONSE_TO_BACKSTAGE_ALIEN_TIMEOUT_TIMER:19">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ConditionHasToken">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ActionNotifySquad" CombatState="HEARD_BS_ALIEN:14" />
                                  <Node Class="LegendPlugin.Nodes.ActionBackstageAlienResponse" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_Human_behave.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_71">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.ConditionHaveNextTarget">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_121">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ActionSwitchToNextTarget" />
                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="IS_IN_EXPLOITABLE_AREA:21" />
                  <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ActionAssert" AssertInfo="Targeting non-enemy characters unsupported by NPC_Human_behave" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="PRIMARY_CONTROL_RESPONSE_BRANCH:29">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionRequiresPrimaryDamageControlResponse">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionApplyPrimaryDamageControlResponse" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPEND_BRANCH:46">
            <Comment Background="Green:3" Text="For Load Save - and maybe one day for AI Lodding" />
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionShouldSuspend">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuspend" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="SHOULD_RESET:1">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_105">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="SHOULD_RESET:1" />
                  <Node Class="LegendPlugin.Nodes.ActionIdleTime" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="0.01" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="DEAD_BRANCH:30">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="DEAD:0">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionIsDead">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionDead" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_programmer_control.xml" />
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="CINEMATIC_MOTIVATION:0">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="CINEMATIC_BRANCH:1">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionHasScript">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionScript" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="RETREAT_MOTIVATION:17">
            <Connector Identifier="ConditionTrue">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_retreat.xml" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionIsInTargetsWeaponRange" WeaponRange="WRT_MAX_RANGE:2">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionAngleFromTargetAgainstTargetCameraDirnLessThan" AngleLessThan="90">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_56">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ActionStartTimerRandom" MaxTime="360" MinTime="240" TimerType="SEEN_PLAYER_AIM_WEAPON_TIMER:21" />
                                  <Node Class="LegendPlugin.Nodes.ActionFail" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="AGRESSIVE_BRANCH:35">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_26">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="TARGET_IS_NPC_BRANCH:47">
                    <Connector Identifier="GenericChildren">
                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_vs_alien.xml" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionHasAlertnessState" AlertnessState="AGGRESSIVE:2">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_73">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="ATTACK_MOTIVATION:1">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_47">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_attack_core.xml" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="ALERT_BRANCH:36">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHasAlertnessState" AlertnessState="ALERT:1">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_74_CLONE">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_69">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ConditionIsCharacterClass" CharacterClass="CIVILIAN:3" CharacterType="TARGET:1">
                                    <Connector Identifier="ConditionFalse">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ConditionIsCharacterClass" CharacterClass="SECURITY:4" CharacterType="TARGET:1">
                                    <Connector Identifier="ConditionFalse">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ConditionIsCharacterClass" CharacterClass="INNOCENT:6" CharacterType="TARGET:1">
                                    <Connector Identifier="ConditionFalse">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ActionMakeAggressive" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="AGGRESSION_ESCALATION_MOTIVATION:23">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_aggression_escalation.xml" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="SUSPECT_TARGET_RESPONSE_MOTIVATION:9">
            <Connector Identifier="ConditionTrue">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_suspicious.xml" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="REACT_TO_WEAPON_MOTIVATION:21">
            <Connector Identifier="ConditionTrue">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_react_to_weapon.xml" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="BACKSTAGE_ALIEN_RESPONSE_MOTIVATION:32">
            <Connector Identifier="ConditionTrue">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_hears_backstage_alien.xml" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="SUSPECT_TARGET_RESPONSE_MOTIVATION:9">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPECT_TARGET_RESPONSE_BRANCH:11">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionSquadDoingSuspiciousWarning">
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ConditionHasDoneSuspectResponseMoveTo">
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ConditionHasDoneSuspectResponseWithinTime" TimeConstraint="10">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="19" RoleType="SUSPECT_RESPONSE_MOVE_TO:13">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_82_CLONE_CLONE_CLONE">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ConditionWasSenseThresholdLastIncreaseActivationAbove" MustBeTriggered="False" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionWasSenseThresholdLastIncreaseActivationAbove" MustBeTriggered="False" SenseType="HEARD_COMBAT:1" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionWasSenseThresholdLastIncreaseActivationAbove" MustBeTriggered="False" SenseType="HEARD_MOVEMENT:3" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionWasSenseThresholdLastIncreaseActivationAbove" MustBeTriggered="False" SenseType="DAMAGED:4" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionWasSenseThresholdLastIncreaseActivationAbove" MustBeTriggered="False" SenseType="TOUCHED:5" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionWasSenseThresholdLastIncreaseActivationAbove" MustBeTriggered="False" SenseType="COMBINED:8" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionWasSenseThresholdLastIncreaseActivationAbove" MustBeTriggered="False" SenseType="SEE_FLASH_LIGHT:7" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="COULD_DO_SUSPECT_TARGET_RESPONSE_MOVE_TO:6" />
                                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="PLAYER_HIDE_MOTIVATION:26">
            <Connector Identifier="ConditionTrue">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_PlayerIsHiding.xml" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="SUSPICIOUS_ITEM_MOTIVATION:22">
            <Connector Identifier="ConditionTrue">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="human_suspicious_item_high.xml" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="SEARCH_SYSTEMATIC_MOTIVATION:5">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionHasAlertnessState" AlertnessState="IGNORE_PLAYER:0">
                <Connector Identifier="ConditionFalse">
                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="human_search_check.xml" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasAlertnessState" AlertnessState="IGNORE_PLAYER:0">
            <Connector Identifier="ConditionFalse">
              <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="SEARCH_SYSTEMATIC_MOTIVATION:5">
                <Connector Identifier="ConditionTrue">
                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="human_search_check.xml" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="human_all_search_variants.xml" />
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="SUSPICIOUS_ITEM_MOTIVATION:22">
            <Connector Identifier="ConditionTrue">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="human_suspicious_item_medium.xml" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="FOLLOW_BRANCH:5">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionShouldFollow">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="77" RoleType="FOLLOW:12">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionPerformRole" QueryID="77" RequestShutDownSpeed="SST_GRACEFULL:0" RoleType="FOLLOW:12" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_37">
                            <Connector Identifier="GenericChildren">
                              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="get_out_of_way.xml" />
                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_124">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ActionIdleTime" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="1" />
                                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="True" FlagType="SHOULD_RESET:1" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SCRIPT_BRANCH:31">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHasScript">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionScript" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="static_convo_behaviour.xml" />
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="SUSPICIOUS_ITEM_MOTIVATION:22">
            <Connector Identifier="ConditionTrue">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="human_suspicious_item_low.xml" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="IDLE_JOB_MOTIVATION:13">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="IDLE_JOB_BRANCH:14">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="96" RoleType="IDLE:0">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ActionPerformRole" QueryID="96" RequestShutDownSpeed="SST_GRACEFULL:0" RoleType="IDLE:0" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="STANDARD_BRANCH:6">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHasObjective" ObjectiveType="OBJECTIVE_TYPE_START_POS:1">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionObjectiveIsWithinDistance" Distance="1" ObjectiveType="OBJECTIVE_TYPE_START_POS:1">
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_45">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="False" Time="15" TimerType="DELAY_RETURN_TO_SPAWN_POINT_TIMER:13" />
                              <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="DELAY_RETURN_TO_SPAWN_POINT_TIMER:13">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionMoveToObjective" MovementSpeedType="Slow:1" ObjectiveType="OBJECTIVE_TYPE_START_POS:1" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                </Connector>
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_21">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="get_out_of_way.xml" />
                                      <Node Class="LegendPlugin.Nodes.DecoratorMood" MoodSet="NEUTRAL:0">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="IDLE_BRANCH:32">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_59">
                    <Connector Identifier="GenericChildren">
                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="get_out_of_way.xml" />
                      <Node Class="LegendPlugin.Nodes.DecoratorMood" MoodSet="NEUTRAL:0">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_human_is_about_to_die.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.ConditionTargetIsTargetingMe">
        <Connector Identifier="ConditionTrue">
          <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinRoutingDistance" Distance="5">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionIsCharacterClass" CharacterClass="ANDROID:2" CharacterType="TARGET:1">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionFail" />
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.ConditionIsCharacterClass" CharacterClass="ANDROID_HEAVY:7" CharacterType="TARGET:1">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ConditionIsCharacterClass" CharacterClass="ALIEN:1" CharacterType="TARGET:1">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionFail" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
            <Connector Identifier="ConditionFalse">
              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
            </Connector>
          </Node>
        </Connector>
        <Connector Identifier="ConditionFalse">
          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_innocent_behave.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_71">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.ConditionHaveNextTarget">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_121">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ActionSwitchToNextTarget" />
                  <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ActionAssert" AssertInfo="Targeting non-enemy characters unsupported by NPC_Human_behave" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="PRIMARY_CONTROL_RESPONSE_BRANCH:29">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionRequiresPrimaryDamageControlResponse">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionApplyPrimaryDamageControlResponse" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPEND_BRANCH:46">
            <Comment Background="Green:3" Text="For Load Save - and maybe one day for AI Lodding" />
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionShouldSuspend">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuspend" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="SHOULD_RESET:1">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_105">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ActionSetLogicCharacterFlags" Flag="False" FlagType="SHOULD_RESET:1" />
                  <Node Class="LegendPlugin.Nodes.ActionIdleTime" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="0.01" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="DEAD_BRANCH:30">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="DEAD:0">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionIsDead">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionDead" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_programmer_control.xml" />
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="CINEMATIC_MOTIVATION:0">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="CINEMATIC_BRANCH:1">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionHasScript">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionScript" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_62">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="False" Time="100" TimerType="SEEN_PLAYER_AIM_WEAPON_TIMER:21" />
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="AGRESSIVE_BRANCH:35">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHasAlertnessState" AlertnessState="AGGRESSIVE:2">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.DecoratorMood" MoodSet="PANICKED:4">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionHasAnySenseBeenAboveWithinTime" ThresholdQualifier="LOWER_THRESHOLD:1" TimeConstraint="40">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_14">
                            <Connector Identifier="GenericChildren">
                              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_cover.xml" />
                              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_panic.xml" />
                              <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTarget" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="5" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasAlertnessState" AlertnessState="AGGRESSIVE:2">
            <Connector Identifier="ConditionFalse">
              <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_61_CLONE">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionIsCharacterClass" CharacterClass="CIVILIAN:3" CharacterType="TARGET:1">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ConditionIsCharacterClass" CharacterClass="INNOCENT:6" CharacterType="TARGET:1">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ConditionIsCharacterClass" CharacterClass="SECURITY:4" CharacterType="TARGET:1">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ConditionIsCharacterClass" CharacterClass="ALIEN:1" CharacterType="TARGET:1">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionNotifySquad" CombatState="ALIEN_SIGHTED:15" />
                            </Connector>
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ActionMakeAggressive" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasAlertnessState" AlertnessState="IGNORE_PLAYER:0">
            <Connector Identifier="ConditionFalse">
              <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="SUSPECT_TARGET_RESPONSE_MOTIVATION:9">
                <Connector Identifier="ConditionTrue">
                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_suspicious.xml" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="ALERT_BRANCH:36">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHasAlertnessState" AlertnessState="ALERT:1">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="AWARE:6">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="AGGRESSION_ESCALATION_MOTIVATION:23">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_aggression_escalation.xml" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasAlertnessState" AlertnessState="IGNORE_PLAYER:0">
            <Connector Identifier="ConditionFalse">
              <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="REACT_TO_WEAPON_MOTIVATION:21">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_109">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_78">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="False" SenseType="HEARD_COMBAT:1" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="False" SenseType="DAMAGED:4" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ActionMakeAggressive" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="FOLLOW_BRANCH:5">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionShouldFollow">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="102" RoleType="FOLLOW:12">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionPerformRole" QueryID="102" RequestShutDownSpeed="SST_GRACEFULL:0" RoleType="FOLLOW:12" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_11">
                            <Connector Identifier="GenericChildren">
                              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="get_out_of_way.xml" />
                              <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SCRIPT_BRANCH:31">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHasScript">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionScript" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="static_convo_behaviour.xml" />
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="IDLE_JOB_MOTIVATION:13">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="IDLE_JOB_BRANCH:14">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="96" RoleType="IDLE:0">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionPerformRole" QueryID="96" RequestShutDownSpeed="SST_GRACEFULL:0" RoleType="IDLE:0" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="STANDARD_BRANCH:6">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHasObjective" ObjectiveType="OBJECTIVE_TYPE_START_POS:1">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionObjectiveIsWithinDistance" Distance="1" ObjectiveType="OBJECTIVE_TYPE_START_POS:1">
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_45">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ActionStartTimer" OnlyIncreaseExistingEndTime="False" Time="15" TimerType="DELAY_RETURN_TO_SPAWN_POINT_TIMER:13" />
                              <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="DELAY_RETURN_TO_SPAWN_POINT_TIMER:13">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionMoveToObjective" MovementSpeedType="Slow:1" ObjectiveType="OBJECTIVE_TYPE_START_POS:1" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                </Connector>
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_54">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="get_out_of_way.xml" />
                                      <Node Class="LegendPlugin.Nodes.DecoratorMood" MoodSet="NEUTRAL:0">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="IDLE_BRANCH:32">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_59">
                    <Connector Identifier="GenericChildren">
                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="get_out_of_way.xml" />
                      <Node Class="LegendPlugin.Nodes.DecoratorMood" MoodSet="NEUTRAL:0">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_invalid_cover_check.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_70">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.ConditionIsCurrentCoverValid">
            <Connector Identifier="ConditionFalse">
              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionIsCoverExposed" Angle="50">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_melee_human_attack.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="MELEE_BRANCH:17">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_97">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionAllowedToAttackTarget">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionTargetLogicCharacterFlags" FlagType="PLAYER_HIDING:8">
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="TARGET:1">
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionIsInCover" CheckSlotMatchesDesired="False">
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionHasAWeapon" Npc_Weapon_Type="WEAPON_TYPE_ANY:0">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionHasMeleeAttackAvailable" AttackType="ANY:0">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionIsTargetInDeepCrouch">
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistanceUnobscured" Distance="1.5">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionIsBranchActive" BranchType="SHOOTING_BRANCH:37">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionAngleToTargetLessThan" Angle="75">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.ConditionIsBranchActive" BranchType="CLOSE_COMBAT_BRANCH:24">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionAngleToTargetLessThan" Angle="75">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                    </Connector>
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ConditionAngleToTargetLessThan" Angle="15">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="True" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="MUTUAL_MELEE_ONLY_MOTIVATION:19">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionTargetIsTargetingMe">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_98">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ActionMeleeAttack" AttackType="ANY:0" RequestShutDownSpeed="SST_GRACEFULL:0" />
                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_77">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionHasAWeapon" Npc_Weapon_Type="WEAPON_TYPE_PROJECTILE:1">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistance" Distance="1.2">
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ConditionCurrentWeaponNeedsReloading">
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ActionRangedShoot" RequestShutDownSpeed="SST_GRACEFULL:0" ShootStraightAway="True" TerminationCondition="Shot_1:2" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTarget" NoiseTime="0.25" RequestShutDownSpeed="SST_GRACEFULL:0" Time="0.25" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_panic.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="AWARE:6">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorMood" MoodSet="PANICKED:4">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="PANIC_BRANCH:52">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="PANIC_MOTIVATION:31">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="69" RoleType="PANIC:14">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_19">
                            <Connector Identifier="GenericChildren">
                              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_human_is_about_to_die.xml" />
                              <Node Class="LegendPlugin.Nodes.ActionPerformRole" QueryID="69" RequestShutDownSpeed="SST_GRACEFULL:0" RoleType="PANIC:14" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_PlayerIsHiding.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Comment Background="NoColor:0" Text="This is the hiding branch.  Still a bit of a work in progress.  We may need to add a simulated noise into the system" />
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="PLAYER_HIDING_BRANCH:48">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="PLAYER_HIDING:8">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionTargetLogicCharacterFlags" FlagType="PLAYER_HIDING:8">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_89">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="86" RoleType="HIDING_PLAYER:11">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="COULD_RESPOND_TO_HIDING_PLAYER:4" />
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_player_in_exploitable_position.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.ConditionTargetLogicCharacterFlags" FlagType="IS_IN_EXPLOITABLE_AREA:21">
        <Connector Identifier="ConditionTrue">
          <Node Class="LegendPlugin.Nodes.ConditionTargetIsWithinDistance" Distance="15">
            <Connector Identifier="ConditionTrue">
              <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_stand_and_shoot.xml" />
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_player_in_vent.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="TARGET_IN_CRAWLSPACE_BRANCH:53">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="TARGET:1">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_10">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_44">
                    <Comment Background="Orange:5" Text="Disable this behaviour for now - Vinh" />
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                      <Node Class="LegendPlugin.Nodes.ConditionAllowedToPursueTarget">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ConditionAllowedToAttackTarget">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ConditionTargetNearestStandPointIsWithinDistance" Distance="0.5">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionRangedShoot" RequestShutDownSpeed="SST_GRACEFULL:0" ShootStraightAway="False" TerminationCondition="Continuous:0" />
                                </Connector>
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ActionMoveToNearestStandingPointToTarget" MovementSpeedType="Fastest:3" PlayStoppingAnim="True" RequestShutDownSpeed="SST_GRACEFULL:0" StoppingDistance="1" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionShouldUseCover">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="USE_COVER_MOTIVATION:14">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_cover.xml" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_stand_and_shoot.xml" />
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_programmer_control.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_20">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.ConditionDebugMenuLinkTest" DefaultBehaviour="False" In_Game_Menu_Text="Human Direct Control">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionCanBeControlledByGamepad">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionMoveWithGamepad" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionDebugMenuLinkTest" DefaultBehaviour="False" In_Game_Menu_Text="Move backwards">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_3">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ActionMoveInDirection" Direction="Right:2" Distance="0" MovementSpeedType="Slowest:0" RequestShutDownSpeed="SST_GRACEFULL:0" />
                  <Node Class="LegendPlugin.Nodes.ActionIdleTime" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="5" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionDebugMenuLinkTest" DefaultBehaviour="False" In_Game_Menu_Text="Get Out of the way">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ActionGetOutOfTheWay" RequestShutDownSpeed="SST_GRACEFULL:0" />
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionDebugMenuLinkTest" DefaultBehaviour="False" In_Game_Menu_Text="Force Aiming">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionDebugMenuLinkTest" DefaultBehaviour="False" In_Game_Menu_Text="Force Aim Raised Gun">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionRangedAim" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldRaiseGun="GUN_RAISED:0" Time="-1" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ActionRangedAim" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldRaiseGun="GUN_LOWERED:1" Time="-1" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionDebugMenuLinkTest" DefaultBehaviour="False" In_Game_Menu_Text="Force Idle">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_57">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_121">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionDebugMenuLinkTest" DefaultBehaviour="False" In_Game_Menu_Text="Force_Holster_Gun">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionHasAWeapon" Npc_Weapon_Type="WEAPON_TYPE_ANY:0">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionCurrentWeaponIsEquipped">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ActionWeaponEquip" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldWeaponEquip="SHOULD_UNEQUIP:1" />
                      <Node Class="LegendPlugin.Nodes.ActionDebugMenuLinkItem" DefaultBehaviour="False" In_Game_Menu_Text="Force_Holster_Gun" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_121_CLONE">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionDebugMenuLinkTest" DefaultBehaviour="False" In_Game_Menu_Text="Force_Draw_Gun">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionHasAWeapon" Npc_Weapon_Type="WEAPON_TYPE_ANY:0">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionCurrentWeaponIsEquipped">
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ActionWeaponEquip" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldWeaponEquip="SHOULD_EQUIP:0" />
                      <Node Class="LegendPlugin.Nodes.ActionDebugMenuLinkItem" DefaultBehaviour="False" In_Game_Menu_Text="Force_Draw_Gun" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionDebugMenuLinkTest" DefaultBehaviour="False" In_Game_Menu_Text="Force Face Target">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTarget" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="5" />
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="DEBUG_FORCE_CHARACTER_IDLE_MOTIVATION:30">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ActionIdle" RequestShutDownSpeed="SST_GRACEFULL:0" />
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_react_to_weapon.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorMood" MoodSet="AGGRESSIVE:3">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="60" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="55" TimerType="HEIGHTENED_SENSES_TIMER:15">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ConditionIsEnemyOfTarget">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_109">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_78">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="False" SenseType="HEARD_COMBAT:1" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="False" SenseType="DAMAGED:4" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_110">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ActionNotifySquad" CombatState="ATTACKING:2" />
                                      <Node Class="LegendPlugin.Nodes.ActionExpireTimer" TimerType="SEARCH_BAN_TIMER:22" />
                                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_8">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_draw_weapon.xml" />
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ActionRangedShoot" RequestShutDownSpeed="SST_EXPEDIENT:1" ShootStraightAway="True" TerminationCondition="Random_between_1_and_4:6" />
                                      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="AWARE:6">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="react to weapon">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_79">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="HEARD_COMBAT:1" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_20:8">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="DAMAGED:4" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_20:8">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="HEARD_MOVEMENT:3" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_20:8">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="COMBINED:8" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_20:8">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_80">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_draw_weapon.xml" />
                                                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_player_in_exploitable_position.xml" />
                                                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_player_in_vent.xml" />
                                                  <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="MELEE_MOTIVATION:16">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_melee_human_attack.xml" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ConditionShouldUseCover">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="USE_COVER_MOTIVATION:14">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_cover.xml" />
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_stand_and_shoot.xml" />
                                                  <Node Class="LegendPlugin.Nodes.ConditionHasAWeapon" Npc_Weapon_Type="WEAPON_TYPE_MELEE:2">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionMoveToTarget" MovementSpeedType="Fastest:3" PlayStoppingAnim="True" RequestShutDownSpeed="SST_GRACEFULL:0" StoppingDistance="1" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTarget" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="5" />
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="npc_request_cover.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.ConditionIsInVent" CharacterType="TARGET:1">
        <Connector Identifier="ConditionTrue">
          <Node Class="LegendPlugin.Nodes.ActionRequestCover" InvalidateCurrentCover="True" Radius="20" RequestType="PLAYER_IN_VENT:5" />
        </Connector>
        <Connector Identifier="ConditionFalse">
          <Node Class="LegendPlugin.Nodes.ConditionIsBranchActive" BranchType="RETREAT_BRANCH:18">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ActionRequestCover" InvalidateCurrentCover="True" Radius="15" RequestType="RETREAT:1" />
            </Connector>
            <Connector Identifier="ConditionFalse">
              <Node Class="LegendPlugin.Nodes.ConditionIsCharacterClass" CharacterClass="PLAYER:0" CharacterType="TARGET:1">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionRequestCover" InvalidateCurrentCover="False" Radius="20" RequestType="AGGRESSIVE:2" />
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.ConditionIsCharacterClass" CharacterClass="ALIEN:1" CharacterType="TARGET:1">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionRequestCover" InvalidateCurrentCover="True" Radius="40" RequestType="ALIEN:4" />
                    </Connector>
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ActionRequestCover" InvalidateCurrentCover="False" Radius="40" RequestType="DEFAULT:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_retreat.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorMood" MoodSet="PANICKED:4">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="AWARE:6">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="RETREAT_BRANCH:18">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="60" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="55" TimerType="HEIGHTENED_SENSES_TIMER:15">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionShouldUseCover">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_106">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.ActionNotifySquad" CombatState="START_RETREATING:6" />
                                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_cover.xml" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_search.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorMood" MoodSet="SUSPICIOUS:5">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SEARCH_BRANCH:7">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="False" Time="80" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="False" Time="-1" TimerType="HEIGHTENED_SENSES_TIMER:15">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SEARCHING_AREA:4">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ConditionIsCharacterClass" CharacterClass="PLAYER:0" CharacterType="TARGET:1">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="SEARCH_BAN_TIMER:22">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_111">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.ConditionHasSearchedMostRecentSensedPosition">
                                            <Connector Identifier="ConditionFalse">
                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                            </Connector>
                                          </Node>
                                          <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="SEARCH_BAN_TIMER:22">
                                            <Connector Identifier="ConditionTrue">
                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                            </Connector>
                                            <Connector Identifier="ConditionFalse">
                                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_50">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.ActionDoneSystematicSearch" />
                                                  <Node Class="LegendPlugin.Nodes.ActionFail" />
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_81_CLONE">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.ConditionHasAnySenseBeenAboveWithinTime" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeConstraint="45">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.ConditionLastTimeSearchedWithinTime" TimeConstraint="45">
                                                <Connector Identifier="ConditionTrue">
                                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                          <Node Class="LegendPlugin.Nodes.DecoratorSquadSearch">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_36">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.ConditionHasSearchedMostRecentSensedPosition">
                                                    <Connector Identifier="ConditionFalse">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_81">
                                                    <Connector Identifier="GenericChildren">
                                                      <Node Class="LegendPlugin.Nodes.ConditionTargetIsInCombatArea" CombatAreaType="COMBAT_AREA_PURSUIT:1" UseLastSensedPosition="True">
                                                        <Connector Identifier="ConditionTrue">
                                                          <Node Class="LegendPlugin.Nodes.ConditionAllowedToSearch">
                                                            <Connector Identifier="ConditionTrue">
                                                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_56">
                                                                <Connector Identifier="GenericChildren">
                                                                  <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="87" RoleType="SYSTEMATIC_SEARCH:2">
                                                                    <Connector Identifier="ConditionTrue">
                                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                    </Connector>
                                                                  </Node>
                                                                  <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                                                                    <Connector Identifier="ConditionTrue">
                                                                      <Node Class="LegendPlugin.Nodes.ActionSuspectTargetResponse" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                                                    </Connector>
                                                                    <Connector Identifier="ConditionFalse">
                                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                                    </Connector>
                                                                  </Node>
                                                                  <Node Class="LegendPlugin.Nodes.ActionPerformRole" QueryID="87" RequestShutDownSpeed="SST_GRACEFULL:0" RoleType="SYSTEMATIC_SEARCH:2" />
                                                                  <Node Class="LegendPlugin.Nodes.ActionRangedAim" NoiseTime="4" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldRaiseGun="GUN_RAISED:0" Time="1" />
                                                                  <Node Class="LegendPlugin.Nodes.ActionDoneSystematicSearch" />
                                                                </Connector>
                                                              </Node>
                                                            </Connector>
                                                            <Connector Identifier="ConditionFalse">
                                                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_3">
                                                                <Connector Identifier="GenericChildren">
                                                                  <Node Class="LegendPlugin.Nodes.ActionRangedAim" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldRaiseGun="GUN_RAISED:0" Time="-1" />
                                                                </Connector>
                                                              </Node>
                                                            </Connector>
                                                          </Node>
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_8">
                                                        <Connector Identifier="GenericChildren">
                                                          <Node Class="LegendPlugin.Nodes.ActionRangedAim" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldRaiseGun="GUN_RAISED:0" Time="15" />
                                                          <Node Class="LegendPlugin.Nodes.ActionDoneSystematicSearch" />
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_stand_and_aim.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="AIM_BRANCH:3">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.ConditionHasAWeapon" Npc_Weapon_Type="WEAPON_TYPE_PROJECTILE:1">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionCurrentWeaponIsEquipped">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionRangedAim" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldRaiseGun="GUN_RAISED:0" Time="-1" />
                </Connector>
                <Connector Identifier="ConditionFalse">
                  <Node Class="LegendPlugin.Nodes.ActionWeaponEquip" RequestShutDownSpeed="SST_GRACEFULL:0" ShouldWeaponEquip="SHOULD_EQUIP:0" />
                </Connector>
              </Node>
            </Connector>
            <Connector Identifier="ConditionFalse">
              <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTarget" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="1" />
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_stand_and_shoot.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SHOOTING_BRANCH:37">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.ConditionCurrentWeaponIsEquipped">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ActionRangedShoot" RequestShutDownSpeed="SST_GRACEFULL:0" ShootStraightAway="True" TerminationCondition="Random_between_1_and_4:6" />
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_suspicious.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPECT_TARGET_RESPONSE_BRANCH:11">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorMood" MoodSet="SUSPICIOUS:5">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="30" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SUSPICIOUS:3">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_112">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionIsAnySenseActivationAbove" MustBeTriggered="False" ThresholdQualifier="LOWER_THRESHOLD:1">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ConditionHasTimerExpired" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ActionNotifySquad" CombatState="SUSPICIOUS_WARNING:9" />
                          <Node Class="LegendPlugin.Nodes.ActionSuspectTargetResponse" RequestShutDownSpeed="SST_GRACEFULL:0" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_vs_alien.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="ATTACK_BRANCH:2">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="False" Time="60" TimerType="NPC_JUST_LEFT_COMBAT_TIMER:9">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="AWARE:6">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="10" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="5" TimerType="HEIGHTENED_SENSES_TIMER:15">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.DecoratorMood" MoodSet="PANICKED:4">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionHaveTarget">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ConditionIsCharacterClass" CharacterClass="ALIEN:1" CharacterType="TARGET:1">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_21">
                                        <Connector Identifier="GenericChildren">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQ_95">
                                            <Connector Identifier="GenericChildren">
                                              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_60_CLONE">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="False" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ConditionIsSenseActivationAbove" MustBeTriggered="False" SenseType="COMBINED:8" ThresholdQualifier="ACTIVATED_THRESHOLD:2">
                                                    <Connector Identifier="ConditionTrue">
                                                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                    </Connector>
                                                  </Node>
                                                </Connector>
                                              </Node>
                                              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="IGNORE_CHILD_FAIL:1" Name="SEQ_96">
                                                <Connector Identifier="GenericChildren">
                                                  <Node Class="LegendPlugin.Nodes.ActionNotifySquad" CombatState="ALIEN_SIGHTED:15" />
                                                  <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_23">
                                                    <Connector Identifier="GenericChildren">
                                                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_60">
                                                        <Connector Identifier="GenericChildren">
                                                          <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="COMBINED:8" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_40:12">
                                                            <Connector Identifier="ConditionTrue">
                                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                            </Connector>
                                                          </Node>
                                                          <Node Class="LegendPlugin.Nodes.ConditionLastTimeSensed" SenseType="VISUAL:0" ThresholdQualifier="ACTIVATED_THRESHOLD:2" TimeThreshold="TM_40:12">
                                                            <Connector Identifier="ConditionTrue">
                                                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                                            </Connector>
                                                          </Node>
                                                        </Connector>
                                                      </Node>
                                                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_61">
                                                        <Connector Identifier="GenericChildren">
                                                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_draw_weapon.xml" />
                                                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_panic.xml" />
                                                          <Node Class="LegendPlugin.Nodes.ConditionShouldUseCover">
                                                            <Connector Identifier="ConditionTrue">
                                                              <Node Class="LegendPlugin.Nodes.ConditionHasMotivation" MotivationType="USE_COVER_MOTIVATION:14">
                                                                <Connector Identifier="ConditionTrue">
                                                                  <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_cover.xml" />
                                                                </Connector>
                                                              </Node>
                                                            </Connector>
                                                          </Node>
                                                          <Node Class="Brainiac.Design.Nodes.ReferencedBehavior" ReferenceFilename="NPC_stand_and_shoot.xml" />
                                                          <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTarget" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="5" />
                                                        </Connector>
                                                      </Node>
                                                    </Connector>
                                                  </Node>
                                                  <Node Class="LegendPlugin.Nodes.ActionNotifySquad" CombatState="LOST_SENSE:8" />
                                                </Connector>
                                              </Node>
                                            </Connector>
                                          </Node>
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_vs_alien_cover.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="USE_COVER_VS_ALIEN_BRANCH:66">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_10">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="IN_COVER_VS_ALIEN_BRANCH:67">
                <Comment Background="Green:3" Text="vs Alien - Hide In Cover" />
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_6">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionIsCurrentCoverValid">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_9">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionIsInCover" CheckSlotMatchesDesired="False">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_7">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ActionNotifySquad" CombatState="ENTERED_COVER:4" />
                              <Node Class="LegendPlugin.Nodes.ActionIdleInCover" RequestShutDownSpeed="SST_GRACEFULL:0" />
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_7">
                <Comment Background="Violet:4" Text="vs Alien - Broken Cover" />
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_8">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionIsCurrentCoverValid">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ConditionHasValidCoverToChangeTo">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                            </Connector>
                            <Connector Identifier="ConditionFalse">
                              <Node Class="LegendPlugin.Nodes.ConditionIsRequestingCover">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ActionRequestCover" InvalidateCurrentCover="True" Radius="40" RequestType="ALIEN:4" />
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_11">
                        <Connector Identifier="GenericChildren">
                          <Node Class="LegendPlugin.Nodes.ConditionCurrentWeaponNeedsReloading">
                            <Connector Identifier="ConditionTrue">
                              <Node Class="LegendPlugin.Nodes.ConditionHasValidCoverToChangeTo">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                                <Connector Identifier="ConditionFalse">
                                  <Node Class="LegendPlugin.Nodes.ConditionIsInCover" CheckSlotMatchesDesired="False">
                                    <Connector Identifier="ConditionTrue">
                                      <Node Class="LegendPlugin.Nodes.ActionIdleInCover" RequestShutDownSpeed="SST_GRACEFULL:0" />
                                    </Connector>
                                    <Connector Identifier="ConditionFalse">
                                      <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTarget" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="1" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                          <Node Class="LegendPlugin.Nodes.ActionBrokenCover" RequestShutDownSpeed="SST_GRACEFULL:0" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="IGNORE_CHILD_FAIL:1" Name="STATELESS_7">
                    <Comment Background="Blue:1" Text="vs Alien - If cover is invalid, change." />
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionIsCurrentCoverValid">
                        <Connector Identifier="ConditionFalse">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionHasValidCoverToChangeTo">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionChangeCover" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.SequenceStateless" ChildStateType="CHILD_DEFAULT:0" Name="STATELESS_8">
                    <Comment Background="Orange:5" Text="vs Alien - Move to cover" />
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionIsCurrentCoverValid">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ActionMoveToCover" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="NPC_weapon_needs_reloading.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.ConditionHasAWeapon" Npc_Weapon_Type="WEAPON_TYPE_PROJECTILE:1">
        <Connector Identifier="ConditionTrue">
          <Node Class="LegendPlugin.Nodes.ConditionCurrentWeaponIsEquipped">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.ConditionCurrentWeaponNeedsReloading">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="PlayerBehaviour.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SEL_82">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="PRIMARY_CONTROL_RESPONSE_BRANCH:29">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionRequiresPrimaryDamageControlResponse">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionApplyPrimaryDamageControlResponse" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SUSPEND_BRANCH:46">
            <Comment Background="Green:3" Text="For Load Save.  I think this may glitch the player...... may need a suspend_player atomic" />
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionShouldSuspend">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ConditionHasScript">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuspend" RequestShutDownSpeed="SST_CRITICAL:2" />
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="DEAD_BRANCH:30">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionIsDead">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionDead" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="SCRIPT_BRANCH:31">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ConditionHasScript">
                <Connector Identifier="ConditionTrue">
                  <Node Class="LegendPlugin.Nodes.ActionScript" RequestShutDownSpeed="SST_GRACEFULL:0" />
                </Connector>
              </Node>
            </Connector>
          </Node>
          <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="STANDARD_BRANCH:6">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.ActionPlayerController" RequestShutDownSpeed="SST_GRACEFULL:0" />
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="PlayerIsHiding.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Comment Background="NoColor:0" Text="This is the hiding branch.  Still a bit of a work in progress.  We may need to add a simulated noise into the system" />
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorBranch" BranchType="PLAYER_HIDING_BRANCH:48">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="30" TimerType="SUSPECT_TARGET_RESPONSE_DELAY_TIMER:0">
            <Connector Identifier="GenericChildren">
              <Node Class="LegendPlugin.Nodes.DecoratorTimer" OnlyIncreaseExistingEndTime="True" Time="25" TimerType="HEIGHTENED_SENSES_TIMER:15">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="SUSPICIOUS:3">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionLogicCharacterFlags" FlagType="PLAYER_HIDING:8">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_89">
                            <Connector Identifier="GenericChildren">
                              <Node Class="LegendPlugin.Nodes.ConditionTargetIsPlayer">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.ConditionIsPerformingRoleOrCouldPerformRole" QueryID="86" RoleType="HIDING_PLAYER:11">
                                <Connector Identifier="ConditionTrue">
                                  <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                </Connector>
                              </Node>
                              <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_24">
                                <Connector Identifier="GenericChildren">
                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_28">
                                    <Comment Background="NoColor:0" Text="If the player fails the breathing game - then run in, until someone is within range to attack (when the flag will be cleared)" />
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ConditionTargetLogicCharacterFlags" FlagType="ATTACK_HIDING_PLAYER:9">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                                        </Connector>
                                      </Node>
                                      <Node Class="LegendPlugin.Nodes.ConditionTargetLogicCharacterFlags" FlagType="ATTACK_HIDING_PLAYER:9">
                                        <Connector Identifier="ConditionTrue">
                                          <Node Class="LegendPlugin.Nodes.ActionMoveToNearestStandingPointToTarget" MovementSpeedType="Fastest:3" PlayStoppingAnim="True" RequestShutDownSpeed="SST_GRACEFULL:0" StoppingDistance="1" />
                                        </Connector>
                                        <Connector Identifier="ConditionFalse">
                                          <Node Class="LegendPlugin.Nodes.ActionIdleTimeFacingTarget" NoiseTime="0" RequestShutDownSpeed="SST_GRACEFULL:0" Time="5" />
                                        </Connector>
                                      </Node>
                                    </Connector>
                                  </Node>
                                  <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_172">
                                    <Connector Identifier="GenericChildren">
                                      <Node Class="LegendPlugin.Nodes.ActionSetFrameFlag" FrameFlag="COULD_RESPOND_TO_HIDING_PLAYER:4" />
                                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                                    </Connector>
                                  </Node>
                                </Connector>
                              </Node>
                            </Connector>
                          </Node>
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>
<File name="static_convo_behaviour.bml">

<Behavior>
  <Node Class="Brainiac.Design.Nodes.Behavior">
    <Connector Identifier="GenericChildren">
      <Node Class="LegendPlugin.Nodes.DecoratorAwarenessState" AwarenessState="UNAWARE:2">
        <Connector Identifier="GenericChildren">
          <Node Class="LegendPlugin.Nodes.ConditionInConvo">
            <Connector Identifier="ConditionTrue">
              <Node Class="LegendPlugin.Nodes.SequenceLinear" ChildStateType="CHILD_DEFAULT:0" Name="SEQUENCE_1">
                <Connector Identifier="GenericChildren">
                  <Node Class="LegendPlugin.Nodes.ConditionConvoInterupptedByPlayer">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionConvoInteruppted">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionFail" />
                    </Connector>
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.ConditionInPositionForConvo">
                    <Connector Identifier="ConditionTrue">
                      <Node Class="LegendPlugin.Nodes.ActionSuccess" />
                    </Connector>
                    <Connector Identifier="ConditionFalse">
                      <Node Class="LegendPlugin.Nodes.ActionMoveToConvo" MovementSpeedType="Fast:2" RequestShutDownSpeed="SST_GRACEFULL:0" />
                    </Connector>
                  </Node>
                  <Node Class="LegendPlugin.Nodes.SelectorLinear" Name="SELECTOR_2">
                    <Connector Identifier="GenericChildren">
                      <Node Class="LegendPlugin.Nodes.ConditionPlayerJoinedConvo">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.DecoratorMood" MoodSet="SUSPICIOUS:5" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionSomeoneJoinedConvo" />
                      <Node Class="LegendPlugin.Nodes.ConditionTalkingInConvo">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionSpeakingInConvo" RequestShutDownSpeed="SST_GRACEFULL:0" />
                        </Connector>
                      </Node>
                      <Node Class="LegendPlugin.Nodes.ConditionListeningInConvo">
                        <Connector Identifier="ConditionTrue">
                          <Node Class="LegendPlugin.Nodes.ActionListeningInConvo" RequestShutDownSpeed="SST_GRACEFULL:0" />
                        </Connector>
                      </Node>
                    </Connector>
                  </Node>
                </Connector>
              </Node>
            </Connector>
          </Node>
        </Connector>
      </Node>
    </Connector>
  </Node>
</Behavior>
</File>

</DIR>
